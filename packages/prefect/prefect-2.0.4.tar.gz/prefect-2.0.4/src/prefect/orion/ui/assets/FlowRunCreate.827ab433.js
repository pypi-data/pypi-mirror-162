import{d as g,u as C,a as b,c as k,r as v,e,o as S,b as $,w as m,i as p,Y as x,Z as B,f as D,K as i,$ as T,a0 as F,p as d,Q as _}from"./index.b58d3601.js";import{u as N}from"./useRouteParam.3d5be483.js";const K=g({__name:"FlowRunCreate",setup(V){const o=N("id"),s=C(),f=b(i.getDeployment,[o]),a=k(()=>f.response),y=async n=>{var r,t,u;try{const c=await i.createDeploymentFlowRun(o.value,n),l=(u=(t=(r=n.state)==null?void 0:r.stateDetails)==null?void 0:t.scheduledTime)!=null?u:void 0,h=!l,R=T(F,{flowRun:c,flowRunRoute:d.flowRun,router:s,immediate:h,startTime:l});_(R,"success"),s.push(d.deployment(o.value))}catch(c){_("Something went wrong trying to create a flow run","error"),console.error(c)}},w=()=>{s.back()};return(n,r)=>{const t=v("p-layout-default");return e(a)?(S(),$(t,{key:0},{header:m(()=>[p(e(x),{deployment:e(a)},null,8,["deployment"])]),default:m(()=>[p(e(B),{deployment:e(a),onSubmit:y,onCancel:w},null,8,["deployment"])]),_:1})):D("",!0)}}});export{K as default};
