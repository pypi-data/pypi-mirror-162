$def with (files)
$var title: Media

$if tx.user.is_owner:
    <form action=/ enctype=multipart/form-data method=post>
    <div><label>File <input name=file type=file></label></div>
    <button>Upload</button>
    </form>

<ul id=files>
$for file in files:
    <li>
    $if tx.user.is_owner:
        <form action=/$file.name method=delete>
    <input type=hidden name=_http_method value=delete>
    <div><a href=/$file.name>\
    $if file.name.endswith((".png", ".jpg", ".gif")):
        <img src="/$file.name">\
    </a></div>
    $# <p><small>$round(file.stat().st_size / 1024)kb</small></p>
    $if tx.user.is_owner:
        <button>Delete</button>
        </form>
    </li>
</ul>

<style>
ul#files {
    list-style: none;
    padding-left: 0; }
ul#files li img {
    width: 100%; }
ul#files li p {
    text-align: right; }
</style>
