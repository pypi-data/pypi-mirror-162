"use strict";(self.webpackChunkjupyterlab_code_bookmarks=self.webpackChunkjupyterlab_code_bookmarks||[]).push([[568],{568:(e,o,t)=>{t.r(o),t.d(o,{default:()=>c});var a=t(923),d=t(318),n=t(616);function r(e){var o,t,a=e.currentWidget.content;const d=a.mode,r=a.activeCellIndex;for(const e of a.widgets)if(e.model.metadata.get("bookmarked")){const s=a.widgets.indexOf(e);if(s>r){a.activeCellIndex=s,null===(o=a.activeCell)||void 0===o||o.editor.focus(),a.mode="edit","markdown"==(null===(t=a.activeCell)||void 0===t?void 0:t.model.type)?(a.mode="command",n.NotebookActions.run(a)):a.mode=d;break}}}function s(e){var o,t=e.currentWidget.content;const a=t.mode,d=t.activeCellIndex;for(const e of t.widgets.slice().reverse())if(e.model.metadata.get("bookmarked")){const n=t.widgets.indexOf(e);if(n<d){t.activeCellIndex=n,null===(o=t.activeCell)||void 0===o||o.editor.focus(),t.mode=a;break}}}const c={id:"code-bookmarks",requires:[n.INotebookTracker],autoStart:!0,activate:(e,o)=>{console.log("JupyterLab extension jupyterlab_code_bookmarks is activated!"),(async()=>{async function t(e){await e.revealed,await e.sessionContext.ready;var o=e.content;for(const e of o.widgets)e.model.metadata.get("bookmarked")&&e.node.classList.add("bookmarked")}await e.restored,o.forEach((e=>{t(e)})),o.widgetAdded.connect((async(e,o)=>{t(o)})),e.commands.addCommand("code_bookmark:toggle",{execute:()=>{!function(e){const o=e.currentWidget.content.activeCell;o.model.metadata.has("bookmarked")?(o.model.metadata.delete("bookmarked"),o.node.classList.remove("bookmarked")):(o.model.metadata.set("bookmarked",!0),o.node.classList.add("bookmarked"))}(o)},label:"Toggle bookmark"}),e.commands.addCommand("code_bookmark:next",{execute:()=>{r(o)},label:"Jump to next bookmark"}),e.commands.addCommand("code_bookmark:previous",{execute:()=>{s(o)},label:"Jump to previous bookmark"}),e.contextMenu.addItem({type:"separator",selector:".jp-Notebook .jp-Cell",rank:500}),e.contextMenu.addItem({command:"code_bookmark:toggle",selector:".jp-Notebook .jp-Cell",rank:501}),e.contextMenu.addItem({type:"separator",selector:".jp-Notebook .jp-Cell",rank:503})})(),e.docRegistry.addWidgetExtension("Notebook",new class{createNew(e){const t=new d.ToolbarButton({className:"bookmark-jump-button-next",label:"Jump next",onClick:()=>{r(o)},tooltip:"Jump to next bookmark"});return e.toolbar.insertItem(10,"bookmarkJumpNextButton",t),new a.DisposableDelegate((()=>{t.dispose()}))}}),e.docRegistry.addWidgetExtension("Notebook",new class{createNew(e){const t=new d.ToolbarButton({className:"bookmark-jump-button-prev",label:"Jump previous",onClick:()=>{s(o)},tooltip:"Jump to previous bookmark"});return e.toolbar.insertItem(10,"bookmarkJumpPrevButton",t),new a.DisposableDelegate((()=>{t.dispose()}))}})}}}}]);