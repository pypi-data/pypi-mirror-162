"use strict";(self.webpackChunkjupyterlab_code_bookmarks=self.webpackChunkjupyterlab_code_bookmarks||[]).push([[568],{568:(e,o,t)=>{t.r(o),t.d(o,{default:()=>m});var a=t(129),d=t(114),n=t(780);function r(e,o){var t,a;let d=e.mode;e.activeCellIndex=o,null===(t=e.activeCell)||void 0===t||t.editor.focus(),e.mode="edit","markdown"==(null===(a=e.activeCell)||void 0===a?void 0:a.model.type)?(e.mode="command",n.NotebookActions.run(e)):e.mode=d}function s(e){var o=e.currentWidget.content;const t=o.activeCellIndex;for(const e of o.widgets)if(e.model.metadata.get("bookmarked")){const a=o.widgets.indexOf(e);if(a>t){r(o,a);break}}}function c(e){var o=e.currentWidget.content;const t=o.activeCellIndex;for(const e of o.widgets.slice().reverse())if(e.model.metadata.get("bookmarked")){const a=o.widgets.indexOf(e);if(a<t){r(o,a);break}}}const m={id:"code-bookmarks",requires:[n.INotebookTracker],autoStart:!0,activate:(e,o)=>{console.log("JupyterLab extension jupyterlab_code_bookmarks is activated!"),(async()=>{async function t(e){await e.revealed,await e.sessionContext.ready;var o=e.content;for(const e of o.widgets)e.model.metadata.get("bookmarked")&&e.node.classList.add("bookmarked")}await e.restored,o.forEach((e=>{t(e)})),o.widgetAdded.connect((async(e,o)=>{t(o)})),e.commands.addCommand("code_bookmark:toggle",{execute:()=>{!function(e){const o=e.currentWidget.content.activeCell;o.model.metadata.has("bookmarked")?(o.model.metadata.delete("bookmarked"),o.node.classList.remove("bookmarked")):(o.model.metadata.set("bookmarked",!0),o.node.classList.add("bookmarked"))}(o)},label:"Toggle bookmark"}),e.commands.addCommand("code_bookmark:next",{execute:()=>{s(o)},label:"Jump to next bookmark"}),e.commands.addCommand("code_bookmark:previous",{execute:()=>{c(o)},label:"Jump to previous bookmark"}),e.contextMenu.addItem({type:"separator",selector:".jp-Notebook .jp-Cell",rank:500}),e.contextMenu.addItem({command:"code_bookmark:toggle",selector:".jp-Notebook .jp-Cell",rank:501}),e.contextMenu.addItem({type:"separator",selector:".jp-Notebook .jp-Cell",rank:503})})(),e.docRegistry.addWidgetExtension("Notebook",new class{createNew(e){const t=new d.ToolbarButton({className:"bookmark-jump-button-next",label:"Jump next",onClick:()=>{s(o)},tooltip:"Jump to next bookmark"});return e.toolbar.insertItem(10,"bookmarkJumpNextButton",t),new a.DisposableDelegate((()=>{t.dispose()}))}}),e.docRegistry.addWidgetExtension("Notebook",new class{createNew(e){const t=new d.ToolbarButton({className:"bookmark-jump-button-prev",label:"Jump previous",onClick:()=>{c(o)},tooltip:"Jump to previous bookmark"});return e.toolbar.insertItem(10,"bookmarkJumpPrevButton",t),new a.DisposableDelegate((()=>{t.dispose()}))}})}}}}]);