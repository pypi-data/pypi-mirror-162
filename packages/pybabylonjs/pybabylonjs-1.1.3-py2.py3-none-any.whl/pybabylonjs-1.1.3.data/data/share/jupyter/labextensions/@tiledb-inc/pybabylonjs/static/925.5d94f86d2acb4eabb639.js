"use strict";(self.webpackChunk_tiledb_inc_pybabylonjs=self.webpackChunk_tiledb_inc_pybabylonjs||[]).push([[925],{36925:(t,e,s)=>{s.r(e),s.d(e,{GLTF1:()=>i.ms,GLTF2:()=>i.VW,GLTFFileLoader:()=>i.ey,GLTFLoaderAnimationStartMode:()=>i.B2,GLTFLoaderCoordinateSystemMode:()=>i.em,GLTFLoaderState:()=>i.zA,GLTFValidation:()=>i.JM,MTLFileLoader:()=>n,OBJFileLoader:()=>f,STLFileLoader:()=>y,SolidParser:()=>d});var i=s(29085),r=s(88362),o=s(61277),a=s(51330),n=function(){function t(){this.materials=[]}return t.prototype.parseMTL=function(e,s,i,o){if(!(s instanceof ArrayBuffer)){for(var n,l=s.split("\n"),h=/\s+/,p=null,_=0;_<l.length;_++){var u=l[_].trim();if(0!==u.length&&"#"!==u.charAt(0)){var d=u.indexOf(" "),m=d>=0?u.substring(0,d):u;m=m.toLowerCase();var c=d>=0?u.substring(d+1).trim():"";if("newmtl"===m)p&&this.materials.push(p),e._blockEntityCollection=!!o,(p=new a.K(c,e))._parentContainer=o,e._blockEntityCollection=!1;else if("kd"===m&&p)n=c.split(h,3).map(parseFloat),p.diffuseColor=r.Wo.FromArray(n);else if("ka"===m&&p)n=c.split(h,3).map(parseFloat),p.ambientColor=r.Wo.FromArray(n);else if("ks"===m&&p)n=c.split(h,3).map(parseFloat),p.specularColor=r.Wo.FromArray(n);else if("ke"===m&&p)n=c.split(h,3).map(parseFloat),p.emissiveColor=r.Wo.FromArray(n);else if("ns"===m&&p)p.specularPower=parseFloat(c);else if("d"===m&&p)p.alpha=parseFloat(c);else if("map_ka"===m&&p)p.ambientTexture=t._GetTexture(i,c,e);else if("map_kd"===m&&p)p.diffuseTexture=t._GetTexture(i,c,e);else if("map_ks"===m&&p)p.specularTexture=t._GetTexture(i,c,e);else if("map_ns"===m);else if("map_bump"===m&&p){var F=c.split(h),f=F.indexOf("-bm"),y=null;f>=0&&(y=F[f+1],F.splice(f,2)),p.bumpTexture=t._GetTexture(i,F.join(" "),e),p.bumpTexture&&null!==y&&(p.bumpTexture.level=parseFloat(y))}else"map_d"===m&&p&&(p.opacityTexture=t._GetTexture(i,c,e))}}p&&this.materials.push(p)}},t._GetTexture=function(e,s,i){if(!s)return null;var r=e;if("file:"===e){var a=s.lastIndexOf("\\");-1===a&&(a=s.lastIndexOf("/")),r+=a>-1?s.substr(a+1):s}else r+=s;return new o.x(r,i,!1,t.INVERT_TEXTURE_Y)},t.INVERT_TEXTURE_Y=!0,t}(),l=s(73204),h=s(92973),p=s(23953),_=s(82131),u=s(60128),d=function(){function t(t,e,s){this._positions=[],this._normals=[],this._uvs=[],this._colors=[],this._meshesFromObj=[],this._indicesForBabylon=[],this._wrappedPositionForBabylon=[],this._wrappedUvsForBabylon=[],this._wrappedColorsForBabylon=[],this._wrappedNormalsForBabylon=[],this._tuplePosNorm=[],this._curPositionInIndices=0,this._hasMeshes=!1,this._unwrappedPositionsForBabylon=[],this._unwrappedColorsForBabylon=[],this._unwrappedNormalsForBabylon=[],this._unwrappedUVForBabylon=[],this._triangles=[],this._materialNameFromObj="",this._objMeshName="",this._increment=1,this._isFirstMaterial=!0,this._grayColor=new r.HE(.5,.5,.5,1),this._materialToUse=t,this._babylonMeshesArray=e,this._loadingOptions=s}return t.prototype._isInArray=function(t,e){t[e[0]]||(t[e[0]]={normals:[],idx:[]});var s=t[e[0]].normals.indexOf(e[1]);return-1===s?-1:t[e[0]].idx[s]},t.prototype._isInArrayUV=function(t,e){t[e[0]]||(t[e[0]]={normals:[],idx:[],uv:[]});var s=t[e[0]].normals.indexOf(e[1]);return 1!=s&&e[2]===t[e[0]].uv[s]?t[e[0]].idx[s]:-1},t.prototype._setData=function(t,e,s,i,r,o,a){var n;-1===(n=this._loadingOptions.optimizeWithUV?this._isInArrayUV(this._tuplePosNorm,[t,s,e]):this._isInArray(this._tuplePosNorm,[t,s]))?(this._indicesForBabylon.push(this._wrappedPositionForBabylon.length),this._wrappedPositionForBabylon.push(i),this._wrappedUvsForBabylon.push(r),this._wrappedNormalsForBabylon.push(o),void 0!==a&&this._wrappedColorsForBabylon.push(a),this._tuplePosNorm[t].normals.push(s),this._tuplePosNorm[t].idx.push(this._curPositionInIndices++),this._loadingOptions.optimizeWithUV&&this._tuplePosNorm[t].uv.push(e)):this._indicesForBabylon.push(n)},t.prototype._unwrapData=function(){for(var t=0;t<this._wrappedPositionForBabylon.length;t++)this._unwrappedPositionsForBabylon.push(this._wrappedPositionForBabylon[t].x,this._wrappedPositionForBabylon[t].y,this._wrappedPositionForBabylon[t].z),this._unwrappedNormalsForBabylon.push(this._wrappedNormalsForBabylon[t].x,this._wrappedNormalsForBabylon[t].y,this._wrappedNormalsForBabylon[t].z),this._unwrappedUVForBabylon.push(this._wrappedUvsForBabylon[t].x,this._wrappedUvsForBabylon[t].y),this._loadingOptions.importVertexColors&&this._unwrappedColorsForBabylon.push(this._wrappedColorsForBabylon[t].r,this._wrappedColorsForBabylon[t].g,this._wrappedColorsForBabylon[t].b,this._wrappedColorsForBabylon[t].a);this._wrappedPositionForBabylon=[],this._wrappedNormalsForBabylon=[],this._wrappedUvsForBabylon=[],this._wrappedColorsForBabylon=[],this._tuplePosNorm=[],this._curPositionInIndices=0},t.prototype._getTriangles=function(t,e){for(var s=e;s<t.length-1;s++)this._triangles.push(t[0],t[s],t[s+1])},t.prototype._setDataForCurrentFaceWithPattern1=function(t,e){this._getTriangles(t,e);for(var s=0;s<this._triangles.length;s++){var i=parseInt(this._triangles[s])-1;this._setData(i,0,0,this._positions[i],h.FM.Zero(),h.P.Up(),this._loadingOptions.importVertexColors?this._colors[i]:void 0)}this._triangles=[]},t.prototype._setDataForCurrentFaceWithPattern2=function(t,e){this._getTriangles(t,e);for(var s=0;s<this._triangles.length;s++){var i=this._triangles[s].split("/"),r=parseInt(i[0])-1,o=parseInt(i[1])-1;this._setData(r,o,0,this._positions[r],this._uvs[o],h.P.Up(),this._loadingOptions.importVertexColors?this._colors[r]:void 0)}this._triangles=[]},t.prototype._setDataForCurrentFaceWithPattern3=function(t,e){this._getTriangles(t,e);for(var s=0;s<this._triangles.length;s++){var i=this._triangles[s].split("/"),r=parseInt(i[0])-1,o=parseInt(i[1])-1,a=parseInt(i[2])-1;this._setData(r,o,a,this._positions[r],this._uvs[o],this._normals[a])}this._triangles=[]},t.prototype._setDataForCurrentFaceWithPattern4=function(t,e){this._getTriangles(t,e);for(var s=0;s<this._triangles.length;s++){var i=this._triangles[s].split("//"),r=parseInt(i[0])-1,o=parseInt(i[1])-1;this._setData(r,1,o,this._positions[r],h.FM.Zero(),this._normals[o],this._loadingOptions.importVertexColors?this._colors[r]:void 0)}this._triangles=[]},t.prototype._setDataForCurrentFaceWithPattern5=function(t,e){this._getTriangles(t,e);for(var s=0;s<this._triangles.length;s++){var i=this._triangles[s].split("/"),r=this._positions.length+parseInt(i[0]),o=this._uvs.length+parseInt(i[1]),a=this._normals.length+parseInt(i[2]);this._setData(r,o,a,this._positions[r],this._uvs[o],this._normals[a],this._loadingOptions.importVertexColors?this._colors[r]:void 0)}this._triangles=[]},t.prototype._addPreviousObjMesh=function(){this._meshesFromObj.length>0&&(this._handledMesh=this._meshesFromObj[this._meshesFromObj.length-1],this._unwrapData(),this._indicesForBabylon.reverse(),this._handledMesh.indices=this._indicesForBabylon.slice(),this._handledMesh.positions=this._unwrappedPositionsForBabylon.slice(),this._handledMesh.normals=this._unwrappedNormalsForBabylon.slice(),this._handledMesh.uvs=this._unwrappedUVForBabylon.slice(),this._loadingOptions.importVertexColors&&(this._handledMesh.colors=this._unwrappedColorsForBabylon.slice()),this._indicesForBabylon=[],this._unwrappedPositionsForBabylon=[],this._unwrappedColorsForBabylon=[],this._unwrappedNormalsForBabylon=[],this._unwrappedUVForBabylon=[])},t.prototype._optimizeNormals=function(t){var e=t.getVerticesData(l.o.PositionKind),s=t.getVerticesData(l.o.NormalKind),i={};if(e&&s){for(var r=0;r<e.length/3;r++)(n=i[a=e[3*r+0]+"_"+e[3*r+1]+"_"+e[3*r+2]])||(n=[],i[a]=n),n.push(r);var o=new h.P;for(var a in i){var n;if(!((n=i[a]).length<2)){var p=n[0];for(r=1;r<n.length;++r){var _=n[r];s[3*p+0]+=s[3*_+0],s[3*p+1]+=s[3*_+1],s[3*p+2]+=s[3*_+2]}for(o.copyFromFloats(s[3*p+0],s[3*p+1],s[3*p+2]),o.normalize(),r=0;r<n.length;++r)s[3*(_=n[r])+0]=o.x,s[3*_+1]=o.y,s[3*_+2]=o.z}}t.setVerticesData(l.o.NormalKind,s)}},t.prototype.parse=function(e,s,i,o,n){for(var l,d=s.split("\n"),m=0;m<d.length;m++){var c=d[m].trim().replace(/\s\s/g," "),F=void 0;if(0!==c.length&&"#"!==c.charAt(0))if(t.VertexPattern.test(c)){if(F=c.match(/[^ ]+/g),this._positions.push(new h.P(parseFloat(F[1]),parseFloat(F[2]),parseFloat(F[3]))),this._loadingOptions.importVertexColors)if(F.length>=7){var f=parseFloat(F[4]),y=parseFloat(F[5]),b=parseFloat(F[6]);this._colors.push(new r.HE(f>1?f/255:f,y>1?y/255:y,b>1?b/255:b,7===F.length||void 0===F[7]?1:parseFloat(F[7])))}else this._colors.push(this._grayColor)}else if(null!==(F=t.NormalPattern.exec(c)))this._normals.push(new h.P(parseFloat(F[1]),parseFloat(F[2]),parseFloat(F[3])));else if(null!==(F=t.UVPattern.exec(c)))this._uvs.push(new h.FM(parseFloat(F[1])*this._loadingOptions.UVScaling.x,parseFloat(F[2])*this._loadingOptions.UVScaling.y));else if(null!==(F=t.FacePattern3.exec(c)))this._setDataForCurrentFaceWithPattern3(F[1].trim().split(" "),1);else if(null!==(F=t.FacePattern4.exec(c)))this._setDataForCurrentFaceWithPattern4(F[1].trim().split(" "),1);else if(null!==(F=t.FacePattern5.exec(c)))this._setDataForCurrentFaceWithPattern5(F[1].trim().split(" "),1);else if(null!==(F=t.FacePattern2.exec(c)))this._setDataForCurrentFaceWithPattern2(F[1].trim().split(" "),1);else if(null!==(F=t.FacePattern1.exec(c)))this._setDataForCurrentFaceWithPattern1(F[1].trim().split(" "),1);else if(t.GroupDescriptor.test(c)||t.ObjectDescriptor.test(c)){var g={name:c.substring(2).trim(),indices:void 0,positions:void 0,normals:void 0,uvs:void 0,colors:void 0,materialName:""};this._addPreviousObjMesh(),this._meshesFromObj.push(g),this._hasMeshes=!0,this._isFirstMaterial=!0,this._increment=1}else t.UseMtlDescriptor.test(c)?(this._materialNameFromObj=c.substring(7).trim(),this._isFirstMaterial&&this._hasMeshes||(this._addPreviousObjMesh(),g={name:(this._objMeshName||"mesh")+"_mm"+this._increment.toString(),indices:void 0,positions:void 0,normals:void 0,uvs:void 0,colors:void 0,materialName:this._materialNameFromObj},this._increment++,this._meshesFromObj.push(g),this._hasMeshes=!0),this._hasMeshes&&this._isFirstMaterial&&(this._meshesFromObj[this._meshesFromObj.length-1].materialName=this._materialNameFromObj,this._isFirstMaterial=!1)):t.MtlLibGroupDescriptor.test(c)?n(c.substring(7).trim()):t.SmoothDescriptor.test(c)||console.log("Unhandled expression at line : "+c)}if(this._hasMeshes&&(this._handledMesh=this._meshesFromObj[this._meshesFromObj.length-1],this._indicesForBabylon.reverse(),this._unwrapData(),this._handledMesh.indices=this._indicesForBabylon,this._handledMesh.positions=this._unwrappedPositionsForBabylon,this._handledMesh.normals=this._unwrappedNormalsForBabylon,this._handledMesh.uvs=this._unwrappedUVForBabylon,this._loadingOptions.importVertexColors&&(this._handledMesh.colors=this._unwrappedColorsForBabylon)),!this._hasMeshes){var v=null;if(this._indicesForBabylon.length)this._indicesForBabylon.reverse(),this._unwrapData();else{for(var w=0,O=this._positions;w<O.length;w++){var P=O[w];this._unwrappedPositionsForBabylon.push(P.x,P.y,P.z)}if(this._normals.length)for(var M=0,T=this._normals;M<T.length;M++){var N=T[M];this._unwrappedNormalsForBabylon.push(N.x,N.y,N.z)}if(this._uvs.length)for(var x=0,C=this._uvs;x<C.length;x++){var I=C[x];this._unwrappedUVForBabylon.push(I.x,I.y)}if(this._colors.length)for(var B=0,E=this._colors;B<E.length;B++){var L=E[B];this._unwrappedColorsForBabylon.push(L.r,L.g,L.b,L.a)}this._materialNameFromObj||((v=new a.K(p.Z.RandomId(),i)).pointsCloud=!0,this._materialNameFromObj=v.name,this._normals.length||(v.disableLighting=!0,v.emissiveColor=r.Wo.White()))}this._meshesFromObj.push({name:p.Z.RandomId(),indices:this._indicesForBabylon,positions:this._unwrappedPositionsForBabylon,colors:this._unwrappedColorsForBabylon,normals:this._unwrappedNormalsForBabylon,uvs:this._unwrappedUVForBabylon,materialName:this._materialNameFromObj,directMaterial:v})}for(var A=0;A<this._meshesFromObj.length;A++){if(e&&this._meshesFromObj[A].name)if(e instanceof Array){if(-1===e.indexOf(this._meshesFromObj[A].name))continue}else if(this._meshesFromObj[A].name!==e)continue;this._handledMesh=this._meshesFromObj[A],i._blockEntityCollection=!!o;var V=new _.Kj(this._meshesFromObj[A].name,i);if(V._parentContainer=o,i._blockEntityCollection=!1,this._materialToUse.push(this._meshesFromObj[A].materialName),0!==(null===(l=this._handledMesh.positions)||void 0===l?void 0:l.length)){var D=new u.x;if(D.uvs=this._handledMesh.uvs,D.indices=this._handledMesh.indices,D.positions=this._handledMesh.positions,this._loadingOptions.computeNormals){var U=new Array;u.x.ComputeNormals(this._handledMesh.positions,this._handledMesh.indices,U),D.normals=U}else D.normals=this._handledMesh.normals;this._loadingOptions.importVertexColors&&(D.colors=this._handledMesh.colors),D.applyToMesh(V),this._loadingOptions.invertY&&(V.scaling.y*=-1),this._loadingOptions.optimizeNormals&&this._optimizeNormals(V),this._babylonMeshesArray.push(V),this._handledMesh.directMaterial&&(V.material=this._handledMesh.directMaterial)}else this._babylonMeshesArray.push(V)}},t.ObjectDescriptor=/^o/,t.GroupDescriptor=/^g/,t.MtlLibGroupDescriptor=/^mtllib /,t.UseMtlDescriptor=/^usemtl /,t.SmoothDescriptor=/^s /,t.VertexPattern=/v(\s+[\d|.|+|\-|e|E]+){3,7}/,t.NormalPattern=/vn(\s+[\d|.|+|\-|e|E]+)( +[\d|.|+|\-|e|E]+)( +[\d|.|+|\-|e|E]+)/,t.UVPattern=/vt(\s+[\d|.|+|\-|e|E]+)( +[\d|.|+|\-|e|E]+)/,t.FacePattern1=/f\s+(([\d]{1,}[\s]?){3,})+/,t.FacePattern2=/f\s+((([\d]{1,}\/[\d]{1,}[\s]?){3,})+)/,t.FacePattern3=/f\s+((([\d]{1,}\/[\d]{1,}\/[\d]{1,}[\s]?){3,})+)/,t.FacePattern4=/f\s+((([\d]{1,}\/\/[\d]{1,}[\s]?){3,})+)/,t.FacePattern5=/f\s+(((-[\d]{1,}\/-[\d]{1,}\/-[\d]{1,}[\s]?){3,})+)/,t}(),m=s(18810),c=s(97595),F=s(34518),f=function(){function t(e){this.name="obj",this.extensions=".obj",this._assetContainer=null,this._loadingOptions=e||t._DefaultLoadingOptions}return Object.defineProperty(t,"INVERT_TEXTURE_Y",{get:function(){return n.INVERT_TEXTURE_Y},set:function(t){n.INVERT_TEXTURE_Y=t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"_DefaultLoadingOptions",{get:function(){return{computeNormals:t.COMPUTE_NORMALS,optimizeNormals:t.OPTIMIZE_NORMALS,importVertexColors:t.IMPORT_VERTEX_COLORS,invertY:t.INVERT_Y,invertTextureY:t.INVERT_TEXTURE_Y,UVScaling:t.UV_SCALING,materialLoadingFailsSilently:t.MATERIAL_LOADING_FAILS_SILENTLY,optimizeWithUV:t.OPTIMIZE_WITH_UV,skipMaterials:t.SKIP_MATERIALS}},enumerable:!1,configurable:!0}),t.prototype._loadMTL=function(t,e,s,i){var r=e+t;m.w1.LoadFile(r,s,void 0,void 0,!1,(function(t,e){i(r,e)}))},t.prototype.createPlugin=function(){return new t(t._DefaultLoadingOptions)},t.prototype.canDirectLoad=function(){return!1},t.prototype.importMeshAsync=function(t,e,s,i){return this._parseSolid(t,e,s,i).then((function(t){return{meshes:t,particleSystems:[],skeletons:[],animationGroups:[],transformNodes:[],geometries:[],lights:[]}}))},t.prototype.loadAsync=function(t,e,s){return this.importMeshAsync(null,t,e,s).then((function(){}))},t.prototype.loadAssetContainerAsync=function(t,e,s){var i=this,r=new F.TJ(t);return this._assetContainer=r,this.importMeshAsync(null,t,e,s).then((function(t){return t.meshes.forEach((function(t){return r.meshes.push(t)})),t.meshes.forEach((function(t){var e=t.material;e&&-1==r.materials.indexOf(e)&&(r.materials.push(e),e.getActiveTextures().forEach((function(t){-1==r.textures.indexOf(t)&&r.textures.push(t)})))})),i._assetContainer=null,r})).catch((function(t){throw i._assetContainer=null,t}))},t.prototype._parseSolid=function(t,e,s,i){var r=this,o="",a=new n,l=new Array,h=[];new d(l,h,this._loadingOptions).parse(t,s,e,this._assetContainer,(function(t){o=t}));var p=[];return""===o||this._loadingOptions.skipMaterials||p.push(new Promise((function(t,s){r._loadMTL(o,i,(function(n){try{a.parseMTL(e,n,i,r._assetContainer);for(var p=0;p<a.materials.length;p++){for(var _=0,u=[],d=void 0;(d=l.indexOf(a.materials[p].name,_))>-1;)u.push(d),_=d+1;if(-1===d&&0===u.length)a.materials[p].dispose();else for(var c=0;c<u.length;c++){var F=h[u[c]],f=a.materials[p];F.material=f,F.getTotalIndices()||(f.pointsCloud=!0)}}t()}catch(e){m.w1.Warn("Error processing MTL file: '".concat(o,"'")),r._loadingOptions.materialLoadingFailsSilently?t():s(e)}}),(function(e,i){m.w1.Warn("Error downloading MTL file: '".concat(o,"'")),r._loadingOptions.materialLoadingFailsSilently?t():s(i)}))}))),Promise.all(p).then((function(){return h}))},t.OPTIMIZE_WITH_UV=!0,t.INVERT_Y=!1,t.IMPORT_VERTEX_COLORS=!1,t.COMPUTE_NORMALS=!1,t.OPTIMIZE_NORMALS=!1,t.UV_SCALING=new h.FM(1,1),t.SKIP_MATERIALS=!1,t.MATERIAL_LOADING_FAILS_SILENTLY=!0,t}();c.n&&c.n.RegisterPlugin(new f);var y=function(){function t(){this.solidPattern=/solid (\S*)([\S\s]*?)endsolid[ ]*(\S*)/g,this.facetsPattern=/facet([\s\S]*?)endfacet/g,this.normalPattern=/normal[\s]+([-+]?[0-9]+\.?[0-9]*([eE][-+]?[0-9]+)?)+[\s]+([-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?)+[\s]+([-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?)+/g,this.vertexPattern=/vertex[\s]+([-+]?[0-9]+\.?[0-9]*([eE][-+]?[0-9]+)?)+[\s]+([-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?)+[\s]+([-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?)+/g,this.name="stl",this.extensions={".stl":{isBinary:!0}}}return t.prototype.importMesh=function(t,e,s,i,r){var o;if("string"!=typeof s){if(this._isBinary(s)){var a=new _.Kj("stlmesh",e);return this._parseBinary(a,s),r&&r.push(a),!0}for(var n=new Uint8Array(s),l="",h=0;h<s.byteLength;h++)l+=String.fromCharCode(n[h]);s=l}for(;o=this.solidPattern.exec(s);){var p=o[1];if(p!=o[3])return m.w1.Error("Error in STL, solid name != endsolid name"),!1;if(t&&p)if(t instanceof Array){if(!t.indexOf(p))continue}else if(p!==t)continue;p=p||"stlmesh",a=new _.Kj(p,e),this._parseASCII(a,o[2]),r&&r.push(a)}return!0},t.prototype.load=function(t,e,s){return this.importMesh(null,t,e,s,null)},t.prototype.loadAssetContainer=function(t,e,s){var i=new F.TJ(t);return t._blockEntityCollection=!0,this.importMesh(null,t,e,s,i.meshes),t._blockEntityCollection=!1,i},t.prototype._isBinary=function(t){var e=new DataView(t);if(e.byteLength<=80)return!1;if(84+50*e.getUint32(80,!0)===e.byteLength)return!0;for(var s=e.byteLength,i=0;i<s;i++)if(e.getUint8(i)>127)return!0;return!1},t.prototype._parseBinary=function(e,s){for(var i=new DataView(s),r=i.getUint32(80,!0),o=0,a=new Float32Array(3*r*3),n=new Float32Array(3*r*3),h=new Uint32Array(3*r),p=0,_=0;_<r;_++){for(var u=84+50*_,d=i.getFloat32(u,!0),m=i.getFloat32(u+4,!0),c=i.getFloat32(u+8,!0),F=1;F<=3;F++){var f=u+12*F;a[o]=i.getFloat32(f,!0),n[o]=d,t.DO_NOT_ALTER_FILE_COORDINATES?(a[o+1]=i.getFloat32(f+4,!0),a[o+2]=i.getFloat32(f+8,!0),n[o+1]=m,n[o+2]=c):(a[o+2]=i.getFloat32(f+4,!0),a[o+1]=i.getFloat32(f+8,!0),n[o+2]=m,n[o+1]=c),o+=3}h[p]=p++,h[p]=p++,h[p]=p++}e.setVerticesData(l.o.PositionKind,a),e.setVerticesData(l.o.NormalKind,n),e.setIndices(h),e.computeWorldMatrix(!0)},t.prototype._parseASCII=function(e,s){for(var i,r=[],o=[],a=[],n=0;i=this.facetsPattern.exec(s);){var h=i[1],p=this.normalPattern.exec(h);if(this.normalPattern.lastIndex=0,p){for(var _=[Number(p[1]),Number(p[5]),Number(p[3])],u=void 0;u=this.vertexPattern.exec(h);)t.DO_NOT_ALTER_FILE_COORDINATES?(r.push(Number(u[1]),Number(u[3]),Number(u[5])),o.push(_[0],_[2],_[1])):(r.push(Number(u[1]),Number(u[5]),Number(u[3])),o.push(_[0],_[1],_[2]));a.push(n++,n++,n++),this.vertexPattern.lastIndex=0}}this.facetsPattern.lastIndex=0,e.setVerticesData(l.o.PositionKind,r),e.setVerticesData(l.o.NormalKind,o),e.setIndices(a),e.computeWorldMatrix(!0)},t.DO_NOT_ALTER_FILE_COORDINATES=!1,t}();c.n&&c.n.RegisterPlugin(new y)}}]);