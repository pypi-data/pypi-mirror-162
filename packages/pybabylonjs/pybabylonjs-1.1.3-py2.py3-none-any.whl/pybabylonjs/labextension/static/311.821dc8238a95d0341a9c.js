"use strict";(self.webpackChunk_tiledb_inc_pybabylonjs=self.webpackChunk_tiledb_inc_pybabylonjs||[]).push([[311],{18657:(e,t,s)=>{s.d(t,{Y:()=>i,o:()=>o});const n=s(4147),i=n.version,o=n.name},22311:(e,t,s)=>{s.r(t),s.d(t,{BabylonBaseModel:()=>M,BabylonImageModel:()=>z,BabylonImageView:()=>E,BabylonMBRSModel:()=>B,BabylonMBRSView:()=>R,BabylonPointCloudModel:()=>O,BabylonPointCloudView:()=>I});var n=s(8233),i=s(18657),o=s(12752),a=s(2759),r=(s(29085),s(7792),s(97924),s(93379)),l=s.n(r),c=s(7795),h=s.n(c),d=s(90569),u=s.n(d),m=s(3565),p=s.n(m),b=s(19216),_=s.n(b),f=s(44589),y=s.n(f),v=s(23889),g={};g.styleTagTransform=y(),g.setAttributes=p(),g.insert=u().bind(null,"head"),g.domAPI=h(),g.insertStyleElement=_(),l()(v.Z,g),v.Z&&v.Z.locals&&v.Z.locals;var x=s(15243),w=s.n(x),C=s(87401);async function S(e){let t,s;if("cloud"===e.source){const s=await async function(e){var t,s;const n={};n.apiKey=e.token,e.tiledb_env&&(n.basePath=e.tiledb_env);const i=new(w())(n),o={layout:C.Layout.Unordered,ranges:[e.bbox.X,e.bbox.Y,e.bbox.Z],bufferSize:15e10,attributes:["X","Y","Z","Red","Green","Blue","GpsTime","Classification"]},a={};try{for(var r,l=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,s=e[Symbol.asyncIterator];return s?s.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=e[s]&&function(t){return new Promise((function(n,i){!function(e,t,s,n){Promise.resolve(n).then((function(t){e({value:t,done:s})}),t)}(n,i,(t=e[s](t)).done,t.value)}))}}}(i.query.ReadQuery(e.name_space,e.array_name,o));!(r=await l.next()).done;){const e=r.value;for(const[t,s]of Object.entries(e))a[t]?a[t].push(s):a[t]=s}}catch(e){t={error:e}}finally{try{r&&!r.done&&(s=l.return)&&await s.call(l)}finally{if(t)throw t.error}}return a}(e);t="time"===e.mode?function(e){return function(e,t=((e,t)=>e<t?-1:e>t?1:0)){const s=Object.keys(e),[n]=Object.values(e),i=Object.keys(n).sort(((e,s)=>t(n[e],n[s]))),o=(e,t)=>t.map((t=>e[t]));if(Array.isArray(e))return s.map((t=>o(e[t],i)));{const t={};return s.forEach((s=>{t[s]=o(e[s],i)})),t}}({GpsTime:e.GpsTime,X:e.X,Y:e.Y,Z:e.Z,Red:e.Red,Green:e.Green,Blue:e.Blue})}(s):s}else t=e.data;s=e.show_fraction?function(e,t){return function(e,t){const s=Object.keys(e),n={};for(const i of s)Array.isArray(e[i])&&(n[i]=e[i].filter(((e,s,n)=>s%t==0)));return n}({GpsTime:e.GpsTime,X:e.X,Y:e.Y,Z:e.Z,Red:e.Red,Green:e.Green,Blue:e.Blue},t)}(t,e.show_fraction):t;let{xmin:n,xmax:i,ymin:o,ymax:a,zmin:r,zmax:l,rgbMax:c}=function(e,t){let s,n,i,o,a,r,l;if(e.bbox?e.point_shift[0]?(s=e.bbox.X[0]+e.point_shift[0],n=e.bbox.X[1]+e.point_shift[0],i=e.bbox.Y[0]+e.point_shift[1],o=e.bbox.Y[1]+e.point_shift[1],a=e.bbox.Z[0]+e.point_shift[2],r=e.bbox.Z[1]+e.point_shift[2]):(s=e.bbox.X[0],n=e.bbox.X[1],i=e.bbox.Y[0],o=e.bbox.Y[1],a=e.bbox.Z[0],r=e.bbox.Z[1]):(s=t.X.reduce(((e,t)=>Math.min(e,t))),n=t.X.reduce(((e,t)=>Math.max(e,t))),i=t.Y.reduce(((e,t)=>Math.min(e,t))),o=t.Y.reduce(((e,t)=>Math.max(e,t))),a=t.Z.reduce(((e,t)=>Math.min(e,t))),r=t.Z.reduce(((e,t)=>Math.max(e,t)))),e.rgb_max)l=e.rgb_max;else{const e=t.Red.reduce(((e,t)=>Math.max(e,t))),s=t.Green.reduce(((e,t)=>Math.max(e,t))),n=t.Blue.reduce(((e,t)=>Math.max(e,t)));l=Math.max(e,s,n)}return{xmin:s,xmax:n,ymin:i,ymax:o,zmin:a,zmax:r,rgbMax:l}}(e,s);return s.X=s.X.map((e=>e-n)),s.Y=s.Y.map((e=>e-o)),s.Z=s.Z.map((e=>e-r)),i-=n,n=0,a-=o,o=0,l-=r,r=0,e.point_shift[0]&&(s.X=s.X.map((t=>t+e.point_shift[0])),s.Y=s.Y.map((t=>t+e.point_shift[1])),s.Z=s.Z.map((t=>t+e.point_shift[2])),n+=e.point_shift[0],i+=e.point_shift[0],o+=e.point_shift[1],a+=e.point_shift[1],r+=e.point_shift[2],l+=e.point_shift[2]),{data:s,xmin:n,xmax:i,ymin:o,ymax:a,zmin:r,zmax:l,rgbMax:c}}class P{constructor(e,t){this.gizmo_x=new o.AxisDragGizmo(new o.Vector3(1,0,0),o.Color3.FromHexString("#ff0000"),t),this.gizmo_x.updateGizmoRotationToMatchAttachedMesh=!1,this.gizmo_x.updateGizmoPositionToMatchAttachedMesh=!0,this.gizmo_x.attachedMesh=e,this.gizmo_y=new o.AxisDragGizmo(new o.Vector3(0,1,0),o.Color3.FromHexString("#00ff00"),t),this.gizmo_y.updateGizmoRotationToMatchAttachedMesh=!1,this.gizmo_y.updateGizmoPositionToMatchAttachedMesh=!0,this.gizmo_y.attachedMesh=e,this.gizmo_z=new o.AxisDragGizmo(new o.Vector3(0,0,1),o.Color3.FromHexString("#0000ff"),t),this.gizmo_z.updateGizmoRotationToMatchAttachedMesh=!1,this.gizmo_z.updateGizmoPositionToMatchAttachedMesh=!0,this.gizmo_z.attachedMesh=e}dispose(){this.gizmo_x.dispose(),this.gizmo_y.dispose(),this.gizmo_z.dispose()}}class M extends n.DOMWidgetModel{}M.model_module=i.o,M.model_module_version=i.Y,M.view_module=i.o,M.view_module_version=i.Y,M.serializers=Object.assign({},n.DOMWidgetModel.serializers);class T extends n.DOMWidgetView{constructor(){super(...arguments),this.values=this.model.get("value"),this.width=this.values.width,this.height=this.values.height,this.wheelPrecision=this.values.wheel_precision,this.moveSpeed=this.values.move_speed,this.zScale=this.values.z_scale,this.inspector=this.values.inspector}resizeCanvas(){var e,t,s;null===(e=this.canvas)||void 0===e||e.setAttribute("width",this.width),null===(t=this.canvas)||void 0===t||t.setAttribute("height",this.height),null===(s=this.engine)||void 0===s||s.resize()}query_changed(){}render(){this.canvas=document.createElement("canvas"),this.canvas.classList.add("renderCanvas"),this.el.appendChild(this.canvas),this.model.on("change:query",this.query_changed,this),this.model.on_some_change(["width","height"],this.resizeCanvas,this),this.engine=new o.Engine(this.canvas,!0);const e=this.engine;o.SceneLoader.ShowLoadingScreen=!1,this.resizeCanvas(),window.addEventListener("resize",(()=>{var e;null===(e=this.engine)||void 0===e||e.resize()})),this.createScene().then((t=>{e.runRenderLoop((()=>{t.render()}))}))}async createScene(){const e=new o.Scene(this.engine);return this.inspector&&e.debugLayer.show({embedMode:!0}),e}}class O extends M{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:O.model_name,_model_module:O.model_module,_model_module_version:O.model_module_version,_view_name:O.view_name,_view_module:O.view_module,_view_module_version:O.view_module_version})}}O.model_name="BabylonPointCloudModel",O.view_name="BabylonPointCloudView";class I extends T{constructor(){super(...arguments),this._moved_after_click=!1,this._shift_pressed=!1,this._selected=new Array,this._axes=new Array,this._cameras=new Array,this._curr_camera=0}async createScene(){return super.createScene().then((async e=>{const t=this;t._scene=e;const{isTime:s,isClass:n,isTopo:i,isGltf:r}=function(e){let t=!1,s=!1,n=!1,i=!1;return"time"===e?t=!0:"classes"===e?s=!0:"topo"===e?n=!0:"gltf"===e&&(i=!0),{isTime:t,isClass:s,isTopo:n,isGltf:i}}(this.values.mode),{backgroundColor:l,accentColor:c,secondColor:h,textColor:d}=function(e){let t,s,n,i;return t=new o.Color4(0,24/255,92/255,1),s="#CC0055",n="#C7C7C7",i="#F5F7FA","dark"===e&&(t=new o.Color4(28/255,28/255,28/255,1),s="#C7C7C7",n="#F5F7FA",i="#F5F7FA"),"light"===e&&(t=new o.Color4(245/255,247/255,250/255,1),s="#352F4D",n="#C7C7C7",i="#352F4D"),{backgroundColor:t,accentColor:s,secondColor:n,textColor:i}}(this.values.color_scheme),{data:u,xmin:m,xmax:p,ymin:b,ymax:_,zmin:f,zmax:y,rgbMax:v}=await S(this.values).then((e=>e)),g=m+(p-m)/2,x=b+(_-b)/2,w=f+(y-f)/2,C=u.X.length,P=u.GpsTime,M=u.Classification,T=this.values.gltf_data,O=this.values.point_size,I=this.values.time_offset,B=this.values.classes,R=this.values.topo_offset,z=this.zScale;let E,j=!1;e.clearColor=l,E=n?new o.PointsCloudSystem("pcs",O,e,{updatable:n}):new o.PointsCloudSystem("pcs",O,e,{updatable:s});const A=function(n,i,a){if(n.position=new o.Vector3(u.X[i],(u.Z[i]-R)*z,u.Y[i]),s?(n.color=e.clearColor,n.position.y=(u.Z[i]-R)*z-100):n.color=new o.Color3(u.Red[i]/v,u.Green[i]/v,u.Blue[i]/v),t.values.distance_colors){let s=999999999999;n.color.set(0,1,0,1);for(let i=0;i<e.meshes.length;i++){const o=e.meshes[i],a=e.meshes[i].getHierarchyBoundingVectors(!0);if(t.pointIsInsideMesh(o,a,n.position))n.color.set(1,0,0,1),s=1;else{const t=Math.max(1,4e-4*n.position.subtract(e.meshes[i].position).lengthSquared());t<s&&(s=t)}}}},k=[];if(r)if(!1===this.values.gltf_multi){const t=new Blob([T]),s=URL.createObjectURL(t);k.push(o.SceneLoader.ImportMeshAsync("",s,"",e,null,".gltf").then((e=>{e.meshes[0].rotation=new o.Vector3(this.values.mesh_rotation[0],this.values.mesh_rotation[1],this.values.mesh_rotation[2]),e.meshes[0].scaling=new o.Vector3(this.values.mesh_scale[0],this.values.mesh_scale[1],this.values.mesh_scale[2]),e.meshes[0].position.x=e.meshes[0].position.x+this.values.mesh_shift[0],e.meshes[0].position.y=e.meshes[0].position.y+this.values.mesh_shift[1],e.meshes[0].position.z=e.meshes[0].position.z+this.values.mesh_shift[2]})))}else if(!0===this.values.gltf_multi)for(let t=0;t<T.length;t++){const s=new Blob([T[t]]),n=URL.createObjectURL(s);k.push(o.SceneLoader.ImportMeshAsync("",n,"",e,null,".gltf").then((e=>{e.meshes[0].rotation=new o.Vector3(this.values.mesh_rotation[0],this.values.mesh_rotation[1],this.values.mesh_rotation[2]),e.meshes[0].scaling=new o.Vector3(this.values.mesh_scale[0],this.values.mesh_scale[1],this.values.mesh_scale[2]),e.meshes[0].position.x=e.meshes[0].position.x+this.values.mesh_shift[0],e.meshes[0].position.y=e.meshes[0].position.y+this.values.mesh_shift[1],e.meshes[0].position.z=e.meshes[0].position.z+this.values.mesh_shift[2]})))}if(await Promise.all(k),E.addPoints(C,A),k.push(E.buildMeshAsync()),await Promise.all(k),s||n){const t=a.AdvancedDynamicTexture.CreateFullscreenUI("UI",!0,e),i=new a.StackPanel;i.width="220px",i.horizontalAlignment=a.Control.HORIZONTAL_ALIGNMENT_CENTER,i.verticalAlignment=a.Control.VERTICAL_ALIGNMENT_BOTTOM,t.addControl(i);const r=new a.TextBlock;r.height="30px",r.color=d;const l=new a.Slider("Slider");let m;l.minimum=0,l.step=1,l.height="20px",l.width="200px",l.color=c,l.background=h,s&&(r.text="Time: "+(I+P[0]).toFixed(0),l.maximum=P.length-1,l.value=0),n&&(r.text=B.names[0],m=Array.from(new Set(M)),l.maximum=m.length-1,l.value=0),i.addControl(r),E.updateParticle=function(t){return j?(t.color=e.clearColor,t.position.y=(u.Z[t.idx]-R)*z-100):(t.color=new o.Color3(u.Red[t.idx]/v,u.Green[t.idx]/v,u.Blue[t.idx]/v),t.position.y=(u.Z[t.idx]-R)*z),t},l.onValueChangedObservable.add((e=>{if(s&&(r.text="Time: "+(I+P[e]).toFixed(0),e>E.counter?(j=!1,E.setParticles(E.counter,e)):(j=!0,E.setParticles(e,E.counter)),E.counter=e),n){const t=B.numbers.indexOf(m[e]);r.text=B.names[t];const s=M.indexOf(m[e]),n=M.lastIndexOf(m[e]);j=!0,E.setParticles(0,C),j=!1,E.setParticles(s,n)}})),i.addControl(l)}if(i){const t=this.values.mapbox_img,s=new Blob([t]),n=URL.createObjectURL(s),i=new o.StandardMaterial("mat",e);i.diffuseTexture=new o.Texture(n,e),i.diffuseTexture.wrapU=o.Texture.CLAMP_ADDRESSMODE,i.diffuseTexture.wrapV=o.Texture.CLAMP_ADDRESSMODE,i.specularColor=new o.Color3(0,0,0),i.backFaceCulling=!1;const a={xmin:m,zmin:b,xmax:p,zmax:_};o.MeshBuilder.CreateTiledGround("tiled ground",a,e).material=i}t._util_layer=new o.UtilityLayerRenderer(e),e.onPointerObservable.add((e=>{switch(e.type){case o.PointerEventTypes.POINTERDOWN:t._moved_after_click=!1;break;case o.PointerEventTypes.POINTERUP:t._moved_after_click||t.pickMesh();break;case o.PointerEventTypes.POINTERMOVE:t._moved_after_click=!0;case o.PointerEventTypes.POINTERWHEEL:case o.PointerEventTypes.POINTERPICK:case o.PointerEventTypes.POINTERTAP:case o.PointerEventTypes.POINTERDOUBLETAP:}})),e.onKeyboardObservable.add((i=>{switch(i.type){case o.KeyboardEventTypes.KEYDOWN:if("c"===i.event.key){t._cameras[t._curr_camera].detachControl(),t._curr_camera=(t._curr_camera+1)%t._cameras.length,t._cameras[t._curr_camera].attachControl(!0);const e=t._cameras[t._curr_camera].name;t._scene.setActiveCameraByName(e)}"="===i.event.key&&(this.values.distance_colors=!0,E=new o.PointsCloudSystem("pcs",O,e,{updatable:n||s}),E.addPoints(C,A),E.buildMeshAsync()),"-"===i.event.key&&(this.values.distance_colors=!1,E=new o.PointsCloudSystem("pcs",O,e,{updatable:n||s}),E.addPoints(C,A),E.buildMeshAsync()),"r"===i.event.key&&t.toggleSelectedWireframe(),"f"===i.event.key&&t.focusSelected(),"i"===i.event.key&&t.infoSelected(),"Shift"===i.event.key&&(t._shift_pressed=!0);break;case o.KeyboardEventTypes.KEYUP:"Shift"===i.event.key&&(t._shift_pressed=!1)}})),e.createDefaultCameraOrLight(!0,!0,!0),new o.HemisphericLight("light1",new o.Vector3(0,1,0),e).intensity=.8;const L=e.activeCamera;L.alpha+=Math.PI,L.upperBetaLimit=Math.PI/2,this.wheelPrecision>0&&(L.wheelPrecision=this.wheelPrecision),L.setTarget(new o.Vector3(g,w,x)),this._cameras.push(L);const N=new o.FreeCamera("free",new o.Vector3(g,w,x),e);return N.minZ=L.minZ,N.maxZ=L.maxZ,this.moveSpeed>0?N.speed=this.moveSpeed:N.speed=.5,N.keysUp.push(87),N.keysDown.push(83),N.keysLeft.push(65),N.keysRight.push(68),N.keysUpward.push(69),N.keysDownward.push(81),this._cameras.push(N),e}))}addAxes(e){return new P(e,this._util_layer)}select(e,t){this._selected.includes(e)?t&&this.unselect(e):(this._selected.push(e),this._axes.push(this.addAxes(e)))}unselect(e){const t=this._selected.findIndex((t=>t===e));void 0!==t&&(this._axes[t].dispose(),this._axes.splice(t,1),this._selected.splice(t,1))}unselectAll(){for(let e=0;e<this._selected.length;e++)this._axes[e].dispose();this._selected=[],this._axes=[]}toggleMeshWireframe(e){e.material&&(e.material.wireframe=!e.material.wireframe);const t=e.getChildMeshes();for(let e=0;e<t.length;e++)this.toggleMeshWireframe(t[e])}toggleSelectedWireframe(){for(let e=0;e<this._selected.length;e++){const t=this._selected[e];this.toggleMeshWireframe(t)}}focusSelected(){if(0===this._selected.length)return;const e=new o.Vector3(0,0,0);for(let t=0;t<this._selected.length;t++)e.addInPlace(this._selected[t].position);e.scaleInPlace(this._selected.length),this._cameras[this._curr_camera].setTarget(e)}infoSelected(){if(0!==this._selected.length)for(let e=0;e<this._selected.length;e++)console.log(this._selected[e].name+": "+this._selected[e].position)}pickMesh(){const e=this._scene.pick(this._scene.pointerX,this._scene.pointerY);if(!e||!e.ray)return;const t=new o.Ray(e.ray.origin,e.ray.direction,1e5),s=this._scene.pickWithRay(t);if(s&&s.pickedMesh){let e=s.pickedMesh;for(;e.parent;)e=e.parent;this._shift_pressed||this.unselectAll(),this.select(e,!0)}else this.unselectAll()}pointIsInsideMesh(e,t,s){const n=t.max.add(e.position),i=t.min.add(e.position),a=2*n.subtract(i).length();if(s.x<i.x||s.x>n.x)return!1;if(s.y<i.y||s.y>n.y)return!1;if(s.z<i.z||s.z>n.z)return!1;const r=[new o.Vector3(0,1,0),new o.Vector3(-.89,.45,0),new o.Vector3(.89,.45,0)],l=new o.Ray(s,o.Axis.X,a);for(let t=0;t<r.length;t++)if(l.direction=r[t],!l.intersectsMesh(e).hit)return!1;return!0}}class B extends M{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:B.model_name,_model_module:B.model_module,_model_module_version:B.model_module_version,_view_name:B.view_name,_view_module:B.view_module,_view_module_version:B.view_module_version})}}B.model_name="BabylonMBRSModel",B.view_name="BabylonMBRSView";class R extends T{async createScene(){return super.createScene().then((e=>{const t=this.values.data,s=this.values.extents,n=s[0],i=s[1],a=s[2],r=s[3],l=s[4],c=Math.min(Math.max(i)-Math.min(n),Math.max(r)-Math.min(a)),h=this.zScale;e.createDefaultCameraOrLight(!0,!0,!0);const d=e.activeCamera;d.alpha+=Math.PI,d.upperBetaLimit=Math.PI/2,d.panningAxis=new o.Vector3(1,1,0),d.panningSensibility=.9,d.panningInertia=.2,d._panningMouseButton=0,this.wheelPrecision>0&&(d.wheelPrecision=this.wheelPrecision),d.setTarget(new o.Vector3(((i+n)/2-n)/c,0,((r+a)/2-a)/c)),d.attachControl(this.canvas,!1);const u=new o.StandardMaterial("mt1",e);u.alpha=.85,u.diffuseColor=new o.Color3(0,0,0),u.emissiveColor=new o.Color3(.5,.5,.5);const m=new o.SolidParticleSystem("SPS",e,{enableDepthSort:!0}),p=o.MeshBuilder.CreateBox("b",{height:1,width:1,depth:1});return m.addShape(p,t.Xmin.length),m.buildMesh().material=u,p.dispose(),m.initParticles=()=>{for(let e=0;e<m.nbParticles;e++){const s=m.particles[e];s.position.x=((t.Xmax[e]+t.Xmin[e])/2-n)/c,s.position.y=((t.Zmax[e]+t.Zmin[e])/2-l)/c*h,s.position.z=((t.Ymax[e]+t.Ymin[e])/2-a)/c,s.scaling.x=(t.Xmax[e]-t.Xmin[e])/c,s.scaling.y=(t.Zmax[e]-t.Zmin[e])/c*h,s.scaling.z=(t.Ymax[e]-t.Ymin[e])/c,s.color=new o.Color4(.5+.6*Math.random(),.5+.6*Math.random(),.5+.6*Math.random(),.9)}},m.initParticles(),m.setParticles(),e.registerBeforeRender((()=>{m.setParticles()})),e}))}}class z extends M{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:z.model_name,_model_module:z.model_module,_model_module_version:z.model_module_version,_view_name:z.view_name,_view_module:z.view_module,_view_module_version:z.view_module_version})}}z.model_name="BabylonImageModel",z.view_name="BabylonImageView";class E extends T{async createScene(){return super.createScene().then((e=>{const t=this.values.data,s=this.values.xy_bbox;e.createDefaultCameraOrLight(!0,!0,!0),e.clearColor=new o.Color4(.95,.94,.92,1);const n=new Blob([t]),i=URL.createObjectURL(n),a=new o.StandardMaterial("ground",e);a.diffuseTexture=new o.Texture(i,e),a.ambientTexture=new o.Texture(i,e),a.ambientColor=new o.Color3(.5,.5,.5),a.diffuseColor=new o.Color3(.8,.8,.8),a.specularColor=new o.Color3(.5,.5,.5),a.specularPower=32;const r=s[0],l=s[1],c=s[2],h=s[3];o.MeshBuilder.CreateGround("ground",{height:.005*(l-r),width:.005*(h-c),subdivisions:36},e).material=a;const d=e.activeCamera;return d.panningAxis=new o.Vector3(1,1,0),d.upperBetaLimit=Math.PI/2,d.panningSensibility=1,d.panningInertia=.2,d._panningMouseButton=0,this.wheelPrecision>0&&(d.wheelPrecision=this.wheelPrecision),d.alpha+=Math.PI,d.attachControl(this.canvas,!1),e}))}}},7792:(e,t,s)=>{s.d(t,{X:()=>n,b:()=>h});var n,i=s(74141),o=s(18810),a=s(30475),r=s(46814),l=s(10661),c=s(32733);Object.defineProperty(r.x.prototype,"debugLayer",{get:function(){return this._debugLayer||(this._debugLayer=new h(this)),this._debugLayer},enumerable:!0,configurable:!0}),function(e){e[e.Properties=0]="Properties",e[e.Debug=1]="Debug",e[e.Statistics=2]="Statistics",e[e.Tools=3]="Tools",e[e.Settings=4]="Settings"}(n||(n={}));var h=function(){function e(e){var t=this;this.BJSINSPECTOR=this._getGlobalInspector(),this._scene=e||c.l.LastCreatedScene,this._scene&&this._scene.onDisposeObservable.add((function(){t._scene._debugLayer&&t._scene._debugLayer.hide()}))}return Object.defineProperty(e.prototype,"onPropertyChangedObservable",{get:function(){return this.BJSINSPECTOR&&this.BJSINSPECTOR.Inspector?this.BJSINSPECTOR.Inspector.OnPropertyChangedObservable:(this._onPropertyChangedObservable||(this._onPropertyChangedObservable=new a.y$),this._onPropertyChangedObservable)},enumerable:!1,configurable:!0}),e.prototype._createInspector=function(e){if(!this.isVisible()){if(this._onPropertyChangedObservable){for(var t=0,s=this._onPropertyChangedObservable.observers;t<s.length;t++){var n=s[t];this.BJSINSPECTOR.Inspector.OnPropertyChangedObservable.add(n)}this._onPropertyChangedObservable.clear(),this._onPropertyChangedObservable=void 0}var o=(0,i.pi)({overlay:!1,showExplorer:!0,showInspector:!0,embedMode:!1,handleResize:!0,enablePopup:!0},e);this.BJSINSPECTOR=this.BJSINSPECTOR||this._getGlobalInspector(),this.BJSINSPECTOR.Inspector.Show(this._scene,o)}},e.prototype.select=function(e,t){this.BJSINSPECTOR&&(t&&("[object String]"==Object.prototype.toString.call(t)?this.BJSINSPECTOR.Inspector.MarkLineContainerTitleForHighlighting(t):this.BJSINSPECTOR.Inspector.MarkMultipleLineContainerTitlesForHighlighting(t)),this.BJSINSPECTOR.Inspector.OnSelectionChangeObservable.notifyObservers(e))},e.prototype._getGlobalInspector=function(){return"undefined"!=typeof INSPECTOR?INSPECTOR:"undefined"!=typeof BABYLON&&void 0!==BABYLON.Inspector?BABYLON:void 0},e.prototype.isVisible=function(){return this.BJSINSPECTOR&&this.BJSINSPECTOR.Inspector.IsVisible},e.prototype.hide=function(){this.BJSINSPECTOR&&this.BJSINSPECTOR.Inspector.Hide()},e.prototype.setAsActiveScene=function(){this.BJSINSPECTOR&&this.BJSINSPECTOR.Inspector._SetNewScene(this._scene)},e.prototype.show=function(t){var s=this;return new Promise((function(n){if(void 0===s.BJSINSPECTOR){var i=t&&t.inspectorURL?t.inspectorURL:e.InspectorURL;o.w1.LoadScript(i,(function(){s._createInspector(t),n(s)}))}else s._createInspector(t),n(s)}))},e.InspectorURL="https://unpkg.com/babylonjs-inspector@".concat(l.D.Version,"/babylon.inspector.bundle.js"),e}()},23889:(e,t,s)=>{s.d(t,{Z:()=>r});var n=s(8081),i=s.n(n),o=s(23645),a=s.n(o)()(i());a.push([e.id,"#renderCanvas {\n  width: 100%;\n  height: 100%;\n  touch-action: none;\n}\n",""]);const r=a},23645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var s="",n=void 0!==t[5];return t[4]&&(s+="@supports (".concat(t[4],") {")),t[2]&&(s+="@media ".concat(t[2]," {")),n&&(s+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),s+=e(t),n&&(s+="}"),t[2]&&(s+="}"),t[4]&&(s+="}"),s})).join("")},t.i=function(e,s,n,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(n)for(var r=0;r<this.length;r++){var l=this[r][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var h=[].concat(e[c]);n&&a[h[0]]||(void 0!==o&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=o),s&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=s):h[2]=s),i&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=i):h[4]="".concat(i)),t.push(h))}},t}},8081:e=>{e.exports=function(e){return e[1]}},93379:e=>{var t=[];function s(e){for(var s=-1,n=0;n<t.length;n++)if(t[n].identifier===e){s=n;break}return s}function n(e,n){for(var o={},a=[],r=0;r<e.length;r++){var l=e[r],c=n.base?l[0]+n.base:l[0],h=o[c]||0,d="".concat(c," ").concat(h);o[c]=h+1;var u=s(d),m={css:l[1],media:l[2],sourceMap:l[3]};-1!==u?(t[u].references++,t[u].updater(m)):t.push({identifier:d,updater:i(m,n),references:1}),a.push(d)}return a}function i(e,t){var s=t.domAPI(t);return s.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;s.update(e=t)}else s.remove()}}e.exports=function(e,i){var o=n(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var r=s(o[a]);t[r].references--}for(var l=n(e,i),c=0;c<o.length;c++){var h=s(o[c]);0===t[h].references&&(t[h].updater(),t.splice(h,1))}o=l}}},90569:e=>{var t={};e.exports=function(e,s){var n=function(e){if(void 0===t[e]){var s=document.querySelector(e);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(e){s=null}t[e]=s}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(s)}},19216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t),t}},3565:(e,t,s)=>{e.exports=function(e){var t=s.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(s){!function(e,t,s){var n=s.css,i=s.media,o=s.sourceMap;i?e.setAttribute("media",i):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(n,e)}(t,e,s)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},44589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},4147:e=>{e.exports=JSON.parse('{"name":"@tiledb-inc/pybabylonjs","version":"1.1.3","description":"BabylonJS widget","keywords":["jupyter","jupyterlab","jupyterlab-extension","widgets"],"files":["lib/**/*.js","dist/*.js","css/*.css","style/*.css","style/index.js"],"author":{"name":"TileDB","email":"support@tiledb.com"},"homepage":"https://github.com/TileDB-Inc/PyBabylonJS","bugs":{"url":"https://github.com/TileDB-Inc/PyBabylonJS/issues"},"license":"MIT","main":"lib/index.js","types":"./lib/index.d.ts","repository":{"type":"git","url":"https://github.com/TileDB-Inc/PyBabylonJS"},"scripts":{"build":"jlpm run build:lib && jlpm run build:labextension:dev","build:labextension":"jupyter labextension build .","build:labextension:dev":"jupyter labextension build --development True .","build:lib":"tsc","build:dist":"NODE_OPTIONS=--max-old-space-size=4096 webpack --mode=production","build:prod":"jlpm run clean && jlpm run build:lib && jlpm run build:labextension && jlpm run build:dist","clean":"jlpm run clean:lib","clean:lib":"rimraf lib tsconfig.tsbuildinfo","clean:labextension":"rimraf pybabylonjs/labextension","clean:all":"jlpm run clean:lib && jlpm run clean:labextension","clean:nbextension":"rimraf pybabylonjs/nbextension/static/index.js","eslint":"eslint . --ext .ts,.tsx --fix","eslint:check":"eslint . --ext .ts,.tsx","install:extension":"jlpm run build","lint":"eslint . --ext .ts,.tsx --fix","lint:check":"eslint . --ext .ts,.tsx","prepack":"yarn run build:lib","test":"echo test","watch":"run-p watch:src watch:labextension","watch:src":"tsc -w","watch:labextension":"jupyter labextension watch .","watch:lib":"tsc -w","watch:nbextension":"NODE_OPTIONS=--max-old-space-size=4096 webpack --watch --mode=development"},"dependencies":{"@babylonjs/core":"^5.0.0","@babylonjs/inspector":"^5.0.0","@babylonjs/loaders":"^5.0.0","@jupyter-widgets/base":"^1.1.10 || ^2 || ^3 || ^4","@jupyterlab/application":"^3.2.0","@tiledb-inc/tiledb-cloud":"^1.0.8","babylonjs-gui":"^4.2.1","babylonjs-materials":"^5.0.0"},"devDependencies":{"@jupyterlab/builder":"^3.1.0","@types/node":"^10.11.6","@types/webpack-env":"^1.16.3","@typescript-eslint/eslint-plugin":"^4.8.1","@typescript-eslint/parser":"^4.8.1","crypto":"1.0.1","css-loader":"^6.3.0","eslint":"^7.14.0","eslint-config-prettier":"^6.15.0","eslint-plugin-prettier":"^3.1.4","expect.js":"^0.3.1","fs-extra":"^7.0.0","git-tag-version":"^1.3.1","mkdirp":"^0.5.1","npm-run-all":"^4.1.5","prettier":"^2.1.1","rimraf":"^3.0.2","source-map-loader":"^3.0.0","style-loader":"^3.2.1","svg-url-loader":"^7.1.1","ts-loader":"^9.2.5","typescript":"~4.1.3","webpack":"^5.53.0","webpack-cli":"^4.8.0"},"jupyterlab":{"extension":"lib/plugin","outputDir":"pybabylonjs/labextension"},"styleModule":"style/index.js"}')}}]);