"use strict";(self.webpackChunkjupyter_divewidgets=self.webpackChunkjupyter_divewidgets||[]).push([[282],{1282:(e,t,r)=>{r.r(t),r.d(t,{RegExpCursor:()=>h,SearchCursor:()=>a,SearchQuery:()=>P,closeSearchPanel:()=>ee,findNext:()=>K,findPrevious:()=>B,getSearchQuery:()=>$,gotoLine:()=>v,highlightSelectionMatches:()=>b,openSearchPanel:()=>Y,replaceAll:()=>U,replaceNext:()=>H,search:()=>q,searchKeymap:()=>te,selectMatches:()=>_,selectNextOccurrence:()=>E,selectSelectionMatches:()=>G,setSearchQuery:()=>V});var i=r(3239),n=r(3494),s=r(6405);const o="function"==typeof String.prototype.normalize?e=>e.normalize("NFKD"):e=>e;class a{constructor(e,t,r=0,i=e.length,n){this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=n?e=>n(o(e)):o,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return(0,n.codePointAt)(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=(0,n.fromCodePoint)(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=(0,n.codePointSize)(e);let i=this.normalize(t);for(let e=0,n=r;;e++){let s=i.charCodeAt(e),o=this.match(s,n);if(o)return this.value=o,this;if(e==i.length-1)break;n==r&&e<t.length&&t.charCodeAt(e)==s&&n++}}}match(e,t){let r=null;for(let i=0;i<this.matches.length;i+=2){let n=this.matches[i],s=!1;this.query.charCodeAt(n)==e&&(n==this.query.length-1?r={from:this.matches[i+1],to:t+1}:(this.matches[i]++,s=!0)),s||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?r={from:t,to:t+1}:this.matches.push(1,t)),r}}"undefined"!=typeof Symbol&&(a.prototype[Symbol.iterator]=function(){return this});const c={from:-1,to:-1,match:/.*/.exec("")},l="gm"+(null==/x/.unicode?"":"u");class h{constructor(e,t,r,i=0,n=e.length){if(this.to=n,this.curLine="",this.done=!1,this.value=c,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new d(e,t,r,i,n);this.re=new RegExp(t,l+((null==r?void 0:r.ignoreCase)?"i":"")),this.iter=e.iter();let s=e.lineAt(i);this.curLineStart=s.from,this.matchPos=i,this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let r=this.curLineStart+t.index,i=r+t[0].length;if(this.matchPos=i+(r==i?1:0),r==this.curLine.length&&this.nextLine(),r<i||r>this.value.to)return this.value={from:r,to:i,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}const u=new WeakMap;class f{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,r){let i=u.get(e);if(!i||i.from>=r||i.to<=t){let i=new f(t,e.sliceString(t,r));return u.set(e,i),i}if(i.from==t&&i.to==r)return i;let{text:n,from:s}=i;return s>t&&(n=e.sliceString(t,s)+n,s=t),i.to<r&&(n+=e.sliceString(i.to,r)),u.set(e,new f(s,n)),new f(t,n.slice(t-s,r-s))}}class d{constructor(e,t,r,i,n){this.text=e,this.to=n,this.done=!1,this.value=c,this.matchPos=i,this.re=new RegExp(t,l+((null==r?void 0:r.ignoreCase)?"i":"")),this.flat=f.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t&&this.flat.to<this.to&&t.index+t[0].length>this.flat.text.length-10&&(t=null),t){let e=this.flat.from+t.index,r=e+t[0].length;return this.value={from:e,to:r,match:t},this.matchPos=r+(e==r?1:0),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=f.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function p(e){let t=(0,s.Z)("input",{class:"cm-textfield",name:"line"});function r(){let r=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!r)return;let{state:i}=e,s=i.doc.lineAt(i.selection.main.head),[,o,a,c,l]=r,h=c?+c.slice(1):0,u=a?+a:s.number;if(a&&l){let e=u/100;o&&(e=e*("-"==o?-1:1)+s.number/i.doc.lines),u=Math.round(i.doc.lines*e)}else a&&o&&(u=u*("-"==o?-1:1)+s.number);let f=i.doc.line(Math.max(1,Math.min(i.doc.lines,u)));e.dispatch({effects:m.of(!1),selection:n.EditorSelection.cursor(f.from+Math.max(0,Math.min(h,f.length))),scrollIntoView:!0}),e.focus()}return{dom:(0,s.Z)("form",{class:"cm-gotoLine",onkeydown:t=>{27==t.keyCode?(t.preventDefault(),e.dispatch({effects:m.of(!1)}),e.focus()):13==t.keyCode&&(t.preventDefault(),r())},onsubmit:e=>{e.preventDefault(),r()}},(0,s.Z)("label",e.state.phrase("Go to line"),": ",t)," ",(0,s.Z)("button",{class:"cm-button",type:"submit"},e.state.phrase("go")))}}"undefined"!=typeof Symbol&&(h.prototype[Symbol.iterator]=d.prototype[Symbol.iterator]=function(){return this});const m=n.StateEffect.define(),g=n.StateField.define({create:()=>!0,update(e,t){for(let r of t.effects)r.is(m)&&(e=r.value);return e},provide:e=>i.showPanel.from(e,(e=>e?p:null))}),v=e=>{let t=(0,i.getPanel)(e,p);if(!t){let r=[m.of(!0)];null==e.state.field(g,!1)&&r.push(n.StateEffect.appendConfig.of([g,x])),e.dispatch({effects:r}),t=(0,i.getPanel)(e,p)}return t&&t.dom.querySelector("input").focus(),!0},x=i.EditorView.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),y={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},S=n.Facet.define({combine:e=>(0,n.combineConfig)(e,y,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})});function b(e){let t=[D,C];return e&&t.push(S.of(e)),t}const w=i.Decoration.mark({class:"cm-selectionMatch"}),k=i.Decoration.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function M(e,t,r,i){return!(0!=r&&e(t.sliceDoc(r-1,r))==n.CharCategory.Word||i!=t.doc.length&&e(t.sliceDoc(i,i+1))==n.CharCategory.Word)}const C=i.ViewPlugin.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=e.state.facet(S),{state:r}=e,s=r.selection;if(s.ranges.length>1)return i.Decoration.none;let o,c=s.main,l=null;if(c.empty){if(!t.highlightWordAroundCursor)return i.Decoration.none;let e=r.wordAt(c.head);if(!e)return i.Decoration.none;l=r.charCategorizer(c.head),o=r.sliceDoc(e.from,e.to)}else{let e=c.to-c.from;if(e<t.minSelectionLength||e>200)return i.Decoration.none;if(t.wholeWords){if(o=r.sliceDoc(c.from,c.to),l=r.charCategorizer(c.head),!M(l,r,c.from,c.to)||!function(e,t,r,i){return e(t.sliceDoc(r,r+1))==n.CharCategory.Word&&e(t.sliceDoc(i-1,i))==n.CharCategory.Word}(l,r,c.from,c.to))return i.Decoration.none}else if(o=r.sliceDoc(c.from,c.to).trim(),!o)return i.Decoration.none}let h=[];for(let n of e.visibleRanges){let e=new a(r.doc,o,n.from,n.to);for(;!e.next().done;){let{from:n,to:s}=e.value;if((!l||M(l,r,n,s))&&(c.empty&&n<=c.from&&s>=c.to?h.push(k.range(n,s)):(n>=c.to||s<=c.from)&&h.push(w.range(n,s)),h.length>t.maxMatches))return i.Decoration.none}}return i.Decoration.set(h)}},{decorations:e=>e.decorations}),D=i.EditorView.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),E=({state:e,dispatch:t})=>{let{ranges:r}=e.selection;if(r.some((e=>e.from===e.to)))return(({state:e,dispatch:t})=>{let{selection:r}=e,i=n.EditorSelection.create(r.ranges.map((t=>e.wordAt(t.head)||n.EditorSelection.cursor(t.head))),r.mainIndex);return!i.eq(r)&&(t(e.update({selection:i})),!0)})({state:e,dispatch:t});let s=e.sliceDoc(r[0].from,r[0].to);if(e.selection.ranges.some((t=>e.sliceDoc(t.from,t.to)!=s)))return!1;let o=function(e,t){let{main:r,ranges:i}=e.selection,n=e.wordAt(r.head),s=n&&n.from==r.from&&n.to==r.to;for(let r=!1,n=new a(e.doc,t,i[i.length-1].to);;){if(n.next(),!n.done){if(r&&i.some((e=>e.from==n.value.from)))continue;if(s){let t=e.wordAt(n.value.from);if(!t||t.from!=n.value.from||t.to!=n.value.to)continue}return n.value}if(r)return null;n=new a(e.doc,t,0,Math.max(0,i[i.length-1].from-1)),r=!0}}(e,s);return!!o&&(t(e.update({selection:e.selection.addRange(n.EditorSelection.range(o.from,o.to),!1),effects:i.EditorView.scrollIntoView(o.to)})),!0)},L=n.Facet.define({combine(e){var t;return{top:e.reduce(((e,t)=>null!=e?e:t.top),void 0)||!1,caseSensitive:e.reduce(((e,t)=>null!=e?e:t.caseSensitive),void 0)||!1,createPanel:(null===(t=e.find((e=>e.createPanel)))||void 0===t?void 0:t.createPanel)||(e=>new re(e))}}});function q(e){return e?[L.of(e),ae]:ae}class P{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||function(e){try{return new RegExp(e,l),!0}catch(e){return!1}}(this.search)),this.unquoted=e.literal?this.search:this.search.replace(/\\([nrt\\])/g,((e,t)=>"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\"))}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp}create(){return this.regexp?new Z(this):new R(this)}getCursor(e,t=0,r=e.length){return this.regexp?I(this,e,t,r):F(this,e,t,r)}}class A{constructor(e){this.spec=e}}function F(e,t,r,i){return new a(t,e.unquoted,r,i,e.caseSensitive?void 0:e=>e.toLowerCase())}class R extends A{constructor(e){super(e)}nextMatch(e,t,r){let i=F(this.spec,e,r,e.length).nextOverlapping();return i.done&&(i=F(this.spec,e,0,t).nextOverlapping()),i.done?null:i.value}prevMatchInRange(e,t,r){for(let i=r;;){let r=Math.max(t,i-1e4-this.spec.unquoted.length),n=F(this.spec,e,r,i),s=null;for(;!n.nextOverlapping().done;)s=n.value;if(s)return s;if(r==t)return null;i-=1e4}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.length)}getReplacement(e){return this.spec.replace}matchAll(e,t){let r=F(this.spec,e,0,e.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let n=F(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.length));for(;!n.next().done;)i(n.value.from,n.value.to)}}function I(e,t,r,i){return new h(t,e.search,e.caseSensitive?void 0:{ignoreCase:!0},r,i)}class Z extends A{nextMatch(e,t,r){let i=I(this.spec,e,r,e.length).next();return i.done&&(i=I(this.spec,e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,r){for(let i=1;;i++){let n=Math.max(t,r-1e4*i),s=I(this.spec,e,n,r),o=null;for(;!s.next().done;)o=s.value;if(o&&(n==t||o.from>n+10))return o;if(n==t)return null}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.length)}getReplacement(e){return this.spec.replace.replace(/\$([$&\d+])/g,((t,r)=>"$"==r?"$":"&"==r?e.match[0]:"0"!=r&&+r<e.match.length?e.match[r]:t))}matchAll(e,t){let r=I(this.spec,e,0,e.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let n=I(this.spec,e,Math.max(0,t-250),Math.min(r+250,e.length));for(;!n.next().done;)i(n.value.from,n.value.to)}}const V=n.StateEffect.define(),O=n.StateEffect.define(),W=n.StateField.define({create:e=>new z(X(e).create(),null),update(e,t){for(let r of t.effects)r.is(V)?e=new z(r.value.create(),e.panel):r.is(O)&&(e=new z(e.query,r.value?J:null));return e},provide:e=>i.showPanel.from(e,(e=>e.panel))});function $(e){let t=e.field(W,!1);return t?t.query.spec:X(e)}class z{constructor(e,t){this.query=e,this.panel=t}}const T=i.Decoration.mark({class:"cm-searchMatch"}),N=i.Decoration.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Q=i.ViewPlugin.fromClass(class{constructor(e){this.view=e,this.decorations=this.highlight(e.state.field(W))}update(e){let t=e.state.field(W);(t!=e.startState.field(W)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}highlight({query:e,panel:t}){if(!t||!e.spec.valid)return i.Decoration.none;let{view:r}=this,s=new n.RangeSetBuilder;for(let t=0,i=r.visibleRanges,n=i.length;t<n;t++){let{from:o,to:a}=i[t];for(;t<n-1&&a>i[t+1].from-500;)a=i[++t].to;e.highlight(r.state.doc,o,a,((e,t)=>{let i=r.state.selection.ranges.some((r=>r.from==e&&r.to==t));s.add(e,t,i?N:T)}))}return s.finish()}},{decorations:e=>e.decorations});function j(e){return t=>{let r=t.state.field(W,!1);return r&&r.query.spec.valid?e(t,r):Y(t)}}const K=j(((e,{query:t})=>{let{to:r}=e.state.selection.main,i=t.nextMatch(e.state.doc,r,r);return!!i&&(e.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:se(e,i),userEvent:"select.search"}),!0)})),B=j(((e,{query:t})=>{let{state:r}=e,{from:i}=r.selection.main,n=t.prevMatch(r.doc,i,i);return!!n&&(e.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:se(e,n),userEvent:"select.search"}),!0)})),_=j(((e,{query:t})=>{let r=t.matchAll(e.state.doc,1e3);return!(!r||!r.length||(e.dispatch({selection:n.EditorSelection.create(r.map((e=>n.EditorSelection.range(e.from,e.to)))),userEvent:"select.search.matches"}),0))})),G=({state:e,dispatch:t})=>{let r=e.selection;if(r.ranges.length>1||r.main.empty)return!1;let{from:i,to:s}=r.main,o=[],c=0;for(let t=new a(e.doc,e.sliceDoc(i,s));!t.next().done;){if(o.length>1e3)return!1;t.value.from==i&&(c=o.length),o.push(n.EditorSelection.range(t.value.from,t.value.to))}return t(e.update({selection:n.EditorSelection.create(o,c),userEvent:"select.search.matches"})),!0},H=j(((e,{query:t})=>{let{state:r}=e,{from:n,to:s}=r.selection.main;if(r.readOnly)return!1;let o=t.nextMatch(r.doc,n,n);if(!o)return!1;let a,c,l=[],h=[];if(o.from==n&&o.to==s&&(c=r.toText(t.getReplacement(o)),l.push({from:o.from,to:o.to,insert:c}),o=t.nextMatch(r.doc,o.from,o.to),h.push(i.EditorView.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(n).number)+"."))),o){let t=0==l.length||l[0].from>=o.to?0:o.to-o.from-c.length;a={anchor:o.from-t,head:o.to-t},h.push(se(e,o))}return e.dispatch({changes:l,selection:a,scrollIntoView:!!a,effects:h,userEvent:"input.replace"}),!0})),U=j(((e,{query:t})=>{if(e.state.readOnly)return!1;let r=t.matchAll(e.state.doc,1e9).map((e=>{let{from:r,to:i}=e;return{from:r,to:i,insert:t.getReplacement(e)}}));if(!r.length)return!1;let n=e.state.phrase("replaced $ matches",r.length)+".";return e.dispatch({changes:r,effects:i.EditorView.announce.of(n),userEvent:"input.replace.all"}),!0}));function J(e){return e.state.facet(L).createPanel(e)}function X(e,t){var r;let i=e.selection.main,n=i.empty||i.to>i.from+100?"":e.sliceDoc(i.from,i.to),s=null!==(r=null==t?void 0:t.caseSensitive)&&void 0!==r?r:e.facet(L).caseSensitive;return t&&!n?t:new P({search:n.replace(/\n/g,"\\n"),caseSensitive:s})}const Y=e=>{let t=e.state.field(W,!1);if(t&&t.panel){let r=(0,i.getPanel)(e,J);if(!r)return!1;let n=r.dom.querySelector("[main-field]");if(n&&n!=e.root.activeElement){let r=X(e.state,t.query.spec);r.valid&&e.dispatch({effects:V.of(r)}),n.focus(),n.select()}}else e.dispatch({effects:[O.of(!0),t?V.of(X(e.state,t.query.spec)):n.StateEffect.appendConfig.of(ae)]});return!0},ee=e=>{let t=e.state.field(W,!1);if(!t||!t.panel)return!1;let r=(0,i.getPanel)(e,J);return r&&r.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:O.of(!1)}),!0},te=[{key:"Mod-f",run:Y,scope:"editor search-panel"},{key:"F3",run:K,shift:B,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:K,shift:B,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:ee,scope:"editor search-panel"},{key:"Mod-Shift-l",run:G},{key:"Alt-g",run:v},{key:"Mod-d",run:E,preventDefault:!0}];class re{constructor(e){this.view=e;let t=this.query=e.state.field(W).query.spec;function r(e,t,r){return(0,s.Z)("button",{class:"cm-button",name:e,onclick:t,type:"button"},r)}this.commit=this.commit.bind(this),this.searchField=(0,s.Z)("input",{value:t.search,placeholder:ie(e,"Find"),"aria-label":ie(e,"Find"),class:"cm-textfield",name:"search","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=(0,s.Z)("input",{value:t.replace,placeholder:ie(e,"Replace"),"aria-label":ie(e,"Replace"),class:"cm-textfield",name:"replace",onchange:this.commit,onkeyup:this.commit}),this.caseField=(0,s.Z)("input",{type:"checkbox",name:"case",checked:t.caseSensitive,onchange:this.commit}),this.reField=(0,s.Z)("input",{type:"checkbox",name:"re",checked:t.regexp,onchange:this.commit}),this.dom=(0,s.Z)("div",{onkeydown:e=>this.keydown(e),class:"cm-search"},[this.searchField,r("next",(()=>K(e)),[ie(e,"next")]),r("prev",(()=>B(e)),[ie(e,"previous")]),r("select",(()=>_(e)),[ie(e,"all")]),(0,s.Z)("label",null,[this.caseField,ie(e,"match case")]),(0,s.Z)("label",null,[this.reField,ie(e,"regexp")]),...e.state.readOnly?[]:[(0,s.Z)("br"),this.replaceField,r("replace",(()=>H(e)),[ie(e,"replace")]),r("replaceAll",(()=>U(e)),[ie(e,"replace all")]),(0,s.Z)("button",{name:"close",onclick:()=>ee(e),"aria-label":ie(e,"close"),type:"button"},["×"])]])}commit(){let e=new P({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:V.of(e)}))}keydown(e){(0,i.runScopeHandlers)(this.view,e,"search-panel")?e.preventDefault():13==e.keyCode&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?B:K)(this.view)):13==e.keyCode&&e.target==this.replaceField&&(e.preventDefault(),H(this.view))}update(e){for(let t of e.transactions)for(let e of t.effects)e.is(V)&&!e.value.eq(this.query)&&this.setQuery(e.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(L).top}}function ie(e,t){return e.state.phrase(t)}const ne=/[\s\.,:;?!]/;function se(e,{from:t,to:r}){let n=e.state.doc.lineAt(t),s=e.state.doc.lineAt(r).to,o=Math.max(n.from,t-30),a=Math.min(s,r+30),c=e.state.sliceDoc(o,a);if(o!=n.from)for(let e=0;e<30;e++)if(!ne.test(c[e+1])&&ne.test(c[e])){c=c.slice(e);break}if(a!=s)for(let e=c.length-1;e>c.length-30;e--)if(!ne.test(c[e-1])&&ne.test(c[e])){c=c.slice(0,e);break}return i.EditorView.announce.of(`${e.state.phrase("current match")}. ${c} ${e.state.phrase("on line")} ${n.number}.`)}const oe=i.EditorView.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),ae=[W,n.Prec.lowest(Q),oe]},6405:(e,t,r)=>{function i(){var e=arguments[0];"string"==typeof e&&(e=document.createElement(e));var t=1,r=arguments[1];if(r&&"object"==typeof r&&null==r.nodeType&&!Array.isArray(r)){for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){var s=r[i];"string"==typeof s?e.setAttribute(i,s):null!=s&&(e[i]=s)}t++}for(;t<arguments.length;t++)n(e,arguments[t]);return e}function n(e,t){if("string"==typeof t)e.appendChild(document.createTextNode(t));else if(null==t);else if(null!=t.nodeType)e.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var r=0;r<t.length;r++)n(e,t[r])}}r.d(t,{Z:()=>i})}}]);