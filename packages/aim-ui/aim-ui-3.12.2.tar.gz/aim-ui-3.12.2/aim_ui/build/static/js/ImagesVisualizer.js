(this.webpackJsonpui_v2=this.webpackJsonpui_v2||[]).push([[7],{1346:function(e,t,n){},1381:function(e,t,n){"use strict";n.r(t);var a=n(16),i=n.n(a),o=n(4),c=n(55),r=n(7),l=n(0),s=n.n(l),d=n(621),u=n(700),h=n(233),v=n(12),j=n(282),p=n(232),m=n(616),f=n(733),b=n(152),O=n(694),g=(n(1346),n(1));function x(e){var t,n,a,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,a=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(a&&null!=(t=e[a]))return new _(t.call(e));n="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function _(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return(_=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new _(e)}function y(e){var t,n,a,l=e.data,_=e.isLoading,y=s.a.useRef(null),C=s.a.useState({active:!1,key:null}),S=Object(r.a)(C,2),w=S[0],P=S[1],T=s.a.useState(null===y||void 0===y||null===(t=y.current)||void 0===t?void 0:t.offsetHeight),N=Object(r.a)(T,2),I=N[0],k=N[1],A=s.a.useState(null===y||void 0===y||null===(n=y.current)||void 0===n?void 0:n.offsetWidth),E=Object(r.a)(A,2),z=E[0],D=E[1];Object(p.a)((function(){var e;return D(null===y||void 0===y||null===(e=y.current)||void 0===e?void 0:e.offsetWidth)}),y),s.a.useEffect((function(){m.a.init()}),[]),s.a.useEffect((function(){var e;k(null===y||void 0===y||null===(e=y.current)||void 0===e?void 0:e.offsetHeight)}),[null===y||void 0===y||null===(a=y.current)||void 0===a?void 0:a.offsetHeight]);var H=s.a.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];P({key:e.key,active:t})}),[]),M=s.a.useMemo((function(){return{alignmentType:j.b.Height,mediaItemSize:25,imageRendering:j.a.Pixelated}}),[]),R=s.a.useMemo((function(){return{step:{group:"record",label:"record.step",value:"step",readonly:!1,order:"desc"}}}),[]);return Object(g.jsx)(v.a,{children:Object(g.jsx)(h.a,{className:"VisualizationLoader",isLoading:!!e.isLoading,children:Object(g.jsx)("div",{className:"ImagesVisualizer",ref:y,children:Object(g.jsx)(u.a,{mediaType:d.a.IMAGE,getBlobsData:function(e){var t=f.a.getImagesByURIs(e);return{abort:t.abort,call:function(){return t.call().then(function(){var e=Object(c.a)(i.a.mark((function e(t){var n,a,c,l,s,d,u,h,v,j,p,f,g,_;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(b.a)(t),a=Object(b.b)(n),c=Object(b.c)(a,1),l=!0,s=!1,e.prev=5,u=x(c);case 7:return e.next=9,u.next();case 9:return h=e.sent,l=h.done,e.next=13,h.value;case 13:if(v=e.sent,l){e.next=21;break}j=v,p=Object(r.a)(j,2),f=p[0],g=p[1],_=f[0],m.a.emit(_,Object(o.a)({},_,Object(O.a)(g)));case 18:l=!0,e.next=7;break;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(5),s=!0,d=e.t0;case 27:if(e.prev=27,e.prev=28,l||null==u.return){e.next=32;break}return e.next=32,u.return();case 32:if(e.prev=32,!s){e.next=35;break}throw d;case 35:return e.finish(32);case 36:return e.finish(27);case 37:case"end":return e.stop()}}),e,null,[[5,23,27,37],[28,,32,36]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){"AbortError"===e.name||console.log("Unhandled error: ")}))}}},data:null===l||void 0===l?void 0:l.imageSetData,orderedMap:null===l||void 0===l?void 0:l.orderedMap,isLoading:!l||_,panelResizing:!1,tableHeight:"0",wrapperOffsetHeight:I||0,wrapperOffsetWidth:z||0,sortFieldsDict:R,focusedState:w,additionalProperties:M,onActivePointChange:H,illustrationConfig:{title:"No Tracked Images"}})})})})}y.displayName="ImagesVisualizer";var C=Object(l.memo)(y);t.default=C},611:function(e,t,n){"use strict";n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"i",(function(){return h})),n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return j})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return b})),n.d(t,"h",(function(){return O})),n.d(t,"g",(function(){return g}));var a,i,o,c=n(4),r=n(621),l=n(282),s=40,d=17,u=6,h=20,v=200,j=300,p=200,m={step:1,min:15,max:70};var f=[{label:"Original Size",value:l.b.Original},{label:"Width",value:l.b.Width},{label:"Height",value:l.b.Height}],b=(a={},Object(c.a)(a,r.a.AUDIO,(function(){return{width:276,height:40}})),Object(c.a)(a,r.a.IMAGE,(function(e){var t,n,a=e.data,i=e.index,o=void 0===i?0:i,c=e.additionalProperties,r=e.wrapperOffsetWidth,s=e.wrapperOffsetHeight,d=void 0===s?0:s;if((null===c||void 0===c?void 0:c.alignmentType)===l.b.Width)t=r*(null===c||void 0===c?void 0:c.mediaItemSize)/100+6,n=r*(null===c||void 0===c?void 0:c.mediaItemSize)/100;else if((null===c||void 0===c?void 0:c.alignmentType)===l.b.Height&&a){var u,h;t=(n=d*(null===c||void 0===c?void 0:c.mediaItemSize)/100)/(null===a||void 0===a||null===(u=a[o])||void 0===u?void 0:u.height)*(null===a||void 0===a||null===(h=a[o])||void 0===h?void 0:h.width)+6||100}else{var v,j;t=(null===a||void 0===a||null===(v=a[o])||void 0===v?void 0:v.width)+6,n=(null===a||void 0===a||null===(j=a[o])||void 0===j?void 0:j.height)||100}return{width:t,height:n}})),a),O=(i={},Object(c.a)(i,r.a.AUDIO,(function(){return 113})),Object(c.a)(i,r.a.IMAGE,(function(e){var t,n=e.maxHeight,a=e.maxWidth,i=e.mediaItemHeight,o=e.alignmentType,c=e.wrapperOffsetWidth,r=e.mediaItemSize,d=e.stacking;if(o===l.b.Original)t=n;else if(o===l.b.Width){t=n/a*(c*r/100)}else t=i;return t+33+s+(d?h:0)})),i),g=(o={},Object(c.a)(o,r.a.AUDIO,(function(e){return e+s})),Object(c.a)(o,r.a.IMAGE,(function(e){var t=e.alignmentType,n=e.maxHeight,a=e.maxWidth,i=e.wrapperOffsetWidth,o=e.mediaItemSize,c=e.mediaItemHeight;return t===l.b.Original?n+s:t===l.b.Width?n/a*(i*o/100)+s:c+s})),o)},616:function(e,t,n){"use strict";var a=n(234),i=Object(a.a)({});t.a=i},621:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e.IMAGE="image",e.AUDIO="audio"}(a||(a={}))},623:function(e,t,n){"use strict";var a=n(7),i=n(0),o=n.n(i),c=n(171),r=n(65),l=n(330),s=n(594),d=n(522),u=n(5),h=n(6),v=n(602),j=n(299),p=n(98),m=n(12),f=n(88),b=(n(631),n(1));function O(e){var t=e.tags,n=e.attachedTags,a=e.onSelectTag,i=o.a.useCallback((function(e){var t;(null===(t=e.currentTarget)||void 0===t?void 0:t.id)&&(null===a||void 0===a||a(e.currentTarget.id))}),[a]);return Object(b.jsx)(m.a,{children:Object(b.jsxs)("div",{className:"SelectTag",children:[(null===t||void 0===t?void 0:t.length)>0?Object(b.jsx)("div",{className:"SelectTag__tags",children:t.map((function(e){var t=n.find((function(t){return t.id===e.id}));return Object(b.jsx)("div",{className:"SelectTag__tags__badge ".concat(t?"outlined":""),children:Object(b.jsx)(u.b,{color:e.color,label:e.name,id:e.id,startIcon:t&&"check",onClick:i})},e.id)}))}):null,Object(b.jsx)(s.a,{}),Object(b.jsx)("div",{className:"SelectTag__createTag__container",children:Object(b.jsx)(d.a,{to:f.a.Tags,component:c.b,underline:"none",children:Object(b.jsx)(u.c,{size:"small",variant:"contained",color:"primary",className:"SelectTag__createTag",children:"Create Tag"})})})]})})}var g=o.a.memo(O),x=n(122),_=n(624);n(632);function y(e){var t=e.runHash,n=o.a.useState([]),i=Object(a.a)(n,2),c=i[0],r=i[1],l=o.a.useState([]),s=Object(a.a)(l,2),d=s[0],f=s[1],O=o.a.useRef(null),y=o.a.useRef(null),C=o.a.useRef(null),S=o.a.useRef(null);function w(e){var n,a,i=c.find((function(t){return t.name===e}));i&&(n=t,a=i.id,S.current=null===x.a||void 0===x.a?void 0:x.a.deleteRunsTag(n,a),S.current.call().then((function(){f((function(e){return Object(h.a)(e.filter((function(e){return e.id!==a})))}))})))}return o.a.useEffect((function(){return t&&(y.current=null===_.a||void 0===_.a?void 0:_.a.getTags(),y.current.call().then((function(e){r(e||[])})),function(e){O.current=null===x.a||void 0===x.a?void 0:x.a.getRunInfo(e),O.current.call().then((function(e){var t;f((null===e||void 0===e||null===(t=e.props)||void 0===t?void 0:t.tags)||[])}))}(t)),function(){var e,t;null===(e=O.current)||void 0===e||e.abort(),null===(t=y.current)||void 0===t||t.abort()}}),[t]),Object(b.jsx)(m.a,{children:Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"AttachedTagsList__title",children:"Tag"}),Object(b.jsxs)(v.a,{className:"AttachedTagsList",children:[(null===d||void 0===d?void 0:d.length)>0?Object(b.jsx)("div",{className:"AttachedTagsList__tags",children:d.map((function(e){return Object(b.jsx)(u.b,{color:e.color,label:e.name,id:e.id,onDelete:w},e.id)}))}):Object(b.jsx)("div",{className:"AttachedTagsList__noAttachedTags",children:"No attached tag"}),Object(b.jsx)(p.a,{title:"Select Tag",titleClassName:"AttachedTagsList__ControlPopover__title",anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},anchor:function(e){var t=e.onAnchorClick,n=e.opened;return Object(b.jsx)(j.a,{title:"".concat((null===d||void 0===d?void 0:d.length)>0?"Select":"Attach"," Tag"),children:Object(b.jsx)("div",{onClick:t,className:"AttachedTagsList__ControlPopover__anchor ".concat(n?"active":""),children:(null===d||void 0===d?void 0:d.length)>0?Object(b.jsx)(u.f,{name:"edit"}):Object(b.jsxs)(u.c,{size:"small",color:"primary",variant:"outlined",className:"AttachedTagsList__ControlPopover__attach",children:[Object(b.jsx)(u.f,{name:"plus"}),Object(b.jsx)("span",{children:"Attach"})]})})})},component:Object(b.jsx)(g,{tags:c,attachedTags:d,onSelectTag:function(e){if(!d.find((function(t){return t.id===e}))){var n=c.find((function(t){return t.id===e}));n&&function(e,t){C.current=null===x.a||void 0===x.a?void 0:x.a.createRunsTag({tag_name:e.name},t),C.current.call().then((function(){f((function(t){return[].concat(Object(h.a)(t),[e])}))}))}(n,t)}}})})]})]})})}var C=o.a.memo(y),S=n(54),w=n(142),P=n(19),T=n(33),N=n(41),I=n(72),k=n(140),A=(n(633),o.a.forwardRef((function(e,t){var n=e.tooltipContent,i=e.focusedState,h=e.chartType,v=e.alignmentConfig,j=e.selectOptions,p=n||{},O=p.selectedProps,g=void 0===O?{}:O,x=p.groupConfig,_=void 0===x?{}:x,y=p.name,A=void 0===y?"":y,E=p.context,z=void 0===E?{}:E,D=p.run;return Object(b.jsx)(m.a,{children:Object(b.jsx)(l.a,{ref:t,className:"PopoverContent__container",style:{pointerEvents:(null===i||void 0===i?void 0:i.active)?"auto":"none"},elevation:0,children:Object(b.jsxs)("div",{className:"PopoverContent",children:[function(){switch(h){case P.b.LineChart:var e;return Object(b.jsx)(m.a,{children:Object(b.jsxs)("div",{className:"PopoverContent__box",children:[Object(b.jsxs)("div",{className:"PopoverContent__valueContainer",children:[Object(b.jsx)(u.n,{children:"Y: "}),Object(b.jsxs)("span",{className:"PopoverContent__headerValue",children:[Object(b.jsx)(u.n,{weight:400,children:Object(N.a)(A)?Object(I.a)(A):A}),Object(b.jsx)(u.n,{className:"PopoverContent__contextValue",children:Object(S.a)(z)}),Object(b.jsx)(u.n,{component:"p",className:"PopoverContent__axisValue",children:null===i||void 0===i?void 0:i.yValue})]})]}),Object(b.jsxs)("div",{className:"PopoverContent__valueContainer",children:[Object(b.jsx)(u.n,{children:"X: "}),Object(b.jsxs)("span",{className:"PopoverContent__headerValue",children:[Object(b.jsx)(u.n,{weight:400,children:Object(w.b)(v)}),(null===v||void 0===v?void 0:v.type)===P.a.CUSTOM_METRIC&&Object(b.jsx)(u.n,{className:"PopoverContent__contextValue",children:Object(S.a)(z)}),Object(b.jsx)(u.n,{component:"p",className:"PopoverContent__axisValue",children:Object(w.a)({xAxisTickValue:null!==(e=null===i||void 0===i?void 0:i.xValue)&&void 0!==e?e:null,type:null===v||void 0===v?void 0:v.type})})]})]})]})});case P.b.HighPlot:var t,o=null===(t=(null===i||void 0===i?void 0:i.xValue)||"")||void 0===t?void 0:t.split("-"),c=Object(a.a)(o,2),r=c[0],l=c[1];return Object(b.jsx)(m.a,{children:Object(b.jsxs)("div",{className:"PopoverContent__box",children:[Object(b.jsxs)("div",{className:"PopoverContent__value",children:[Object(b.jsx)("strong",{children:Object(N.a)(r)?Object(I.a)(r):null!==r&&void 0!==r?r:"--"})," ",l||null]}),Object(b.jsxs)("div",{className:"PopoverContent__value",children:["Value: ",null===i||void 0===i?void 0:i.yValue]})]})});case P.b.ImageSet:var s=n.step,d=void 0===s?"":s,j=n.index,p=void 0===j?"":j,f=n.caption,O=void 0===f?"":f,g=n.images_name,x=void 0===g?"":g;return Object(b.jsx)(m.a,{children:Object(b.jsxs)("div",{className:"PopoverContent__box PopoverContent__imageSetBox",children:[Object(b.jsx)("strong",{children:O}),Object(b.jsxs)("div",{className:"PopoverContent__value",children:[Object(b.jsx)("strong",{children:x}),Object(b.jsx)(u.n,{className:"PopoverContent__contextValue",children:Object(S.a)(z)})]}),Object(b.jsxs)("div",{className:"PopoverContent__value",children:["Step: ",Object(b.jsx)("strong",{children:d}),Object(b.jsxs)(u.n,{className:"PopoverContent__contextValue",children:["Index: ",Object(b.jsx)("strong",{children:p})]})]})]})});case P.b.ScatterPlot:return Object(b.jsx)(m.a,{children:Object(b.jsxs)("div",{className:"PopoverContent__box",children:[Object(b.jsxs)("div",{className:"PopoverContent__valueContainer",children:[Object(b.jsx)(u.n,{children:"Y: "}),Object(b.jsx)("span",{className:"PopoverContent__headerValue",children:Object(b.jsx)(u.n,{component:"p",className:"PopoverContent__axisValue",children:null===i||void 0===i?void 0:i.yValue})})]}),Object(b.jsxs)("div",{className:"PopoverContent__valueContainer",children:[Object(b.jsx)(u.n,{children:"X: "}),Object(b.jsx)("span",{className:"PopoverContent__headerValue",children:Object(b.jsx)(u.n,{component:"p",className:"PopoverContent__axisValue",children:null===i||void 0===i?void 0:i.xValue})})]})]})});default:return null}}(),r.a.isEmpty(g)?null:Object(b.jsx)(m.a,{children:Object(b.jsxs)("div",{children:[Object(b.jsx)(s.a,{}),Object(b.jsx)("div",{className:"PopoverContent__box",children:Object.keys(g).map((function(e){return Object(b.jsxs)("div",{className:"PopoverContent__value",children:[Object(b.jsx)(u.n,{size:12,tint:50,children:"".concat(Object(k.a)(j,e),": ")}),Object(b.jsx)(u.n,{size:12,children:Object(T.a)(g[e])})]},e)}))})]})}),r.a.isEmpty(_)?null:Object(b.jsx)(m.a,{children:Object(b.jsxs)("div",{children:[Object(b.jsx)(s.a,{}),Object(b.jsxs)("div",{className:"PopoverContent__box",children:[Object(b.jsx)("div",{className:"PopoverContent__subtitle1",children:"Group Config"}),Object.keys(_).map((function(e){return r.a.isEmpty(_[e])?null:Object(b.jsxs)(o.a.Fragment,{children:[Object(b.jsx)("div",{className:"PopoverContent__subtitle2",children:e}),Object.keys(_[e]).map((function(t){var n=Object(N.a)(_[e][t])?Object(I.a)(_[e][t]):_[e][t];return Object(b.jsxs)("div",{className:"PopoverContent__value",children:[Object(b.jsx)(u.n,{size:12,tint:50,children:"".concat(t,": ")}),Object(b.jsx)(u.n,{size:12,children:Object(T.a)(n)})]},t)}))]},e)}))]})]})}),(null===i||void 0===i?void 0:i.active)&&(null===D||void 0===D?void 0:D.hash)?Object(b.jsxs)(m.a,{children:[Object(b.jsxs)("div",{children:[Object(b.jsx)(s.a,{}),Object(b.jsx)("div",{className:"PopoverContent__box",children:Object(b.jsxs)(d.a,{to:f.a.Run_Detail.replace(":runHash",null===D||void 0===D?void 0:D.hash),component:c.b,className:"PopoverContent__runDetails",underline:"none",children:[Object(b.jsx)(u.f,{name:"link"}),Object(b.jsx)("div",{children:"Run Details"})]})})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)(s.a,{}),Object(b.jsx)("div",{className:"PopoverContent__box",children:Object(b.jsx)(m.a,{children:Object(b.jsx)(C,{runHash:null===D||void 0===D?void 0:D.hash})})})]})]}):null]})})})})));t.a=o.a.memo(A)},624:function(e,t,n){"use strict";var a=n(47),i={GET_TAGS:"tags",GET_TAG:"tags/",CREATE_TAG:"tags",UPDATE_TAG:"tags/",GET_TAG_RUNS:function(e){return"tags/".concat(e,"/runs")}};var o={endpoints:i,getTags:function(){return a.a.get(i.GET_TAGS)},createTag:function(e){return a.a.post(i.GET_TAGS,e,{headers:{"Content-Type":"application/json"}})},updateTag:function(e,t){return a.a.put(i.UPDATE_TAG+t,e,{headers:{"Content-Type":"application/json"}})},getTagById:function(e){return a.a.get(i.GET_TAG+e)},getTagRuns:function(e){return a.a.get(i.GET_TAG_RUNS(e))},hideTag:function(e,t){return a.a.put(i.GET_TAG+e,{archived:t},{headers:{"Content-Type":"application/json"}})},deleteTag:function(e){return a.a.delete(i.GET_TAG+e,{headers:{"Content-Type":"application/json"}})}};t.a=o},631:function(e,t,n){},632:function(e,t,n){},633:function(e,t,n){},634:function(e,t,n){},637:function(e,t,n){"use strict";var a=n(7),i=n(0),o=n.n(i),c=n(520),r=n(623),l=n(12);var s=function(e,t,n){if(!n||!t)return{top:e.top,left:e.left};var a=10;return{left:e.left<n.left?e.right+a:e.right+t.width>n.right?e.left-t.width-a:e.right+a,top:e.top<n.top?n.top+a:e.top+t.height>n.bottom?n.bottom-t.height-a:e.top+a}},d=(n(634),n(1));function u(e){var t,n=e.id,i=void 0===n?"popover":n,u=e.open,h=void 0!==u&&u,v=e.className,j=void 0===v?"":v,p=e.containerNode,m=void 0===p?document.body:p,f=e.selectOptions,b=o.a.useState(null),O=Object(a.a)(b,2),g=O[0],x=O[1],_=o.a.useState(),y=Object(a.a)(_,2),C=y[0],S=y[1],w=o.a.useCallback((function(e){if(null===e)x(null);else if(C&&m){var t=s(e,C.getBoundingClientRect(),m.getBoundingClientRect());x(t)}}),[m,C]);return o.a.useEffect((function(){h&&e.activePointRect&&w(e.activePointRect)}),[h,m,C,e.activePointRect,e.tooltipContent,e.focusedState.key,e.focusedState.active,w]),Object(d.jsx)(l.a,{children:Object(d.jsx)(c.a,{id:i,open:!!e.activePointRect&&h,disableEnforceFocus:!0,disableAutoFocus:!0,disableRestoreFocus:!0,disablePortal:!0,disableScrollLock:!0,anchorReference:"anchorPosition",anchorPosition:g||e.activePointRect||void 0,className:"ChartPopover ".concat(j),transitionDuration:{appear:0,enter:50,exit:100},TransitionProps:{onEnter:function(e){S(e)}},classes:{paper:"ChartPopover__content ".concat((null===(t=e.focusedState)||void 0===t?void 0:t.active)?"ChartPopover__content__active":"")},children:Object(d.jsx)(l.a,{children:Object(d.jsx)(r.a,{chartType:e.chartType,tooltipContent:e.tooltipContent,focusedState:e.focusedState,alignmentConfig:e.alignmentConfig,selectOptions:f})})},"popover-".concat(e.reCreatePopover))})}t.a=o.a.memo(u)},687:function(e,t,n){},688:function(e,t,n){},689:function(e,t,n){},690:function(e,t,n){},691:function(e,t,n){},692:function(e,t,n){},693:function(e,t,n){},694:function(e,t,n){"use strict";function a(e){for(var t="",n=new Uint8Array(e),a=n.byteLength,i=0;i<a;i++)t+=String.fromCharCode(n[i]);return window.btoa(t)}n.d(t,"a",(function(){return a}))},700:function(e,t,n){"use strict";var a=n(7),i=n(0),o=n.n(i),c=n(366),r=n(10),l=n(2),s=n(6),d=n(4),u=n(65),h=n(284),v=n(15),j=n.n(v),p=n(299),m=n(621),f=n(63),b=n.n(f),O=n(729),g=n.n(O),x=n(524),_=n(5),y=n(12),C=n(611),S=n(616),w=n(54),P=(n(687),n(1));function T(e){var t=e.audio,n=e.isPlaying,i=e.src,c=o.a.useState(0),r=Object(a.a)(c,2),l=r[0],s=r[1],d=o.a.useRef({});function u(){clearInterval(d.current),d.current=setInterval((function(){s(Math.round(t.currentTime))}),300)}function h(e){return e>3600?"HH:mm:ss":"mm:ss"}return o.a.useEffect((function(){return function(){clearInterval(d.current)}}),[]),o.a.useEffect((function(){n&&t?u():clearInterval(d.current)}),[n,i]),Object(P.jsxs)(y.a,{children:[Object(P.jsx)(_.k,{containerClassName:"AudioBox__controllers__progressSlider",onChangeCommitted:function(){t&&(clearInterval(d.current),t.currentTime=l,n&&u())},onChange:function(e,n){t&&(clearInterval(d.current),s(n))},value:l,step:1,max:Math.round(null===t||void 0===t?void 0:t.duration),min:0}),Object(P.jsxs)("div",{className:"AudioBox__controllers__timer ".concat((null===t||void 0===t?void 0:t.duration)>3600?"AudioBox__controllers__timer-long":""),children:[Object(P.jsx)(_.n,{weight:400,size:8,children:t&&b.a.utc(1e3*Math.round(l)).format(h(t.duration||0))||"00:00"}),Object(P.jsxs)(_.n,{weight:400,size:8,children:["/ ",t&&b.a.utc(1e3*Math.round(t.duration||0)).format(h(t.duration||0))||"00:00"]})]})]})}function N(e){var t=e.audio,n=o.a.useState(.99),i=Object(a.a)(n,2),c=i[0],r=i[1];return o.a.useEffect((function(){t&&(t.volume=c)}),[c]),Object(P.jsx)(y.a,{children:Object(P.jsxs)("div",{className:"AudioBox__controllers__volume ".concat(t?"":"AudioBox__controllers__volume-disabled"),children:[Object(P.jsx)(_.c,{onClick:function(){t&&(0===t.volume?r(.99):r(0))},withOnlyIcon:!0,size:"small",className:"AudioBox__controllers__volume--button",children:Object(P.jsx)(_.f,{name:0===c?"voice-off":"voice-on"})}),Object(P.jsx)("div",{className:"AudioBox__controllers__volume__Slider",children:Object(P.jsx)(_.k,{onChange:function(e,n){t&&(t.volume=n,r(n))},value:c,step:.01,defaultValue:1,max:.99,min:0})})]})})}function I(e){var t,n=e.data,i=e.additionalProperties,c=e.style,r=void 0===c?{}:c,l=n.blob_uri,s=o.a.useState(!1),d=Object(a.a)(s,2),u=d[0],h=d[1],v=o.a.useState(null),j=Object(a.a)(v,2),p=j[0],m=j[1],f=o.a.useState(!1),b=Object(a.a)(f,2),O=b[0],I=b[1],k=o.a.useState(""),A=Object(a.a)(k,2),E=A[0],z=A[1],D=o.a.useState(null!==(t=S.a.getState()[l])&&void 0!==t?t:null),H=Object(a.a)(D,2),M=H[0],R=H[1],L=o.a.useState(!0),V=Object(a.a)(L,2),B=V[0],W=V[1];function G(){I(!1)}function F(){h(!1)}function U(){p?h(!u):(I(!0),i.getAudiosBlobsData([l]).call().then((function(e){h(!u)})))}function K(){var e=document.createElement("a"),t=n.index,a=n.format,i=n.context,o=n.step,c=n.caption,r=n.audio_name,l=""===Object(w.a)(i)?"":"_".concat(Object(w.a)(i)),s="".concat(r).concat(l,"_").concat(c,"_").concat(o,"_").concat(t);e.setAttribute("href","data:audio/".concat(a,";base64,").concat(M)),e.setAttribute("download",s),document.body.appendChild(e),e.click(),document.body.removeChild(e)}return o.a.useEffect((function(){var e,t;return O&&null===M&&(S.a.getState()[l]?R(S.a.getState()[l]):(t=S.a.subscribe(l,(function(e){R(e[l]),t.unsubscribe()})),e=window.setTimeout((function(){S.a.getState()[l]&&(R(S.a.getState()[l]),t.unsubscribe())}),C.a))),function(){e&&clearTimeout(e),t&&t.unsubscribe(),p&&p.pause()}}),[O]),o.a.useEffect((function(){if(M){var e=new Audio;e.autoplay=!0,e.muted=!0,e.src="data:audio/".concat(n.format,";base64,").concat(M),z("data:audio/".concat(n.format,";base64,").concat(M)),m(e),W(!1)}}),[M]),o.a.useEffect((function(){u?null===p||void 0===p||p.play().then((function(){W(!1)})):null===p||void 0===p||p.pause()}),[u,p]),o.a.useEffect((function(){return p&&(p.addEventListener("ended",F),p.addEventListener("canplay",G)),function(){p&&(p.pause(),p.removeEventListener("ended",F),p.removeEventListener("canplay",G))}}),[p]),o.a.useEffect((function(){B||(p.muted=!1)}),[B]),Object(P.jsx)(y.a,{children:Object(P.jsxs)("div",{className:"AudioBox",style:r,children:[Object(P.jsxs)("div",{className:"AudioBox__controllers",children:[p?Object(P.jsx)(_.c,{onClick:U,color:"secondary",withOnlyIcon:!0,size:"small",children:Object(P.jsx)(_.f,{name:u?"pause":"play"})}):Object(P.jsxs)("div",{className:"AudioBox__controllers__Player",children:[Object(P.jsx)(g.a,{displaySlider:!1,volume:!1,displayCloseButton:!1,onPlayed:U,width:"24px",src:E}),O?Object(P.jsx)(x.a,{className:"Icon__container",size:12,thickness:4}):Object(P.jsx)(_.f,{name:u?"pause":"play"})]}),Object(P.jsx)(T,{audio:p,isPlaying:u,src:E}),Object(P.jsx)(N,{audio:p}),Object(P.jsx)(_.c,{withOnlyIcon:!0,size:"small",onClick:function(){p?K():(I(!0),i.getAudiosBlobsData([l]).call().then((function(e){K()})))},children:O?Object(P.jsx)(x.a,{className:"Icon__container",size:12,thickness:4}):Object(P.jsx)(_.f,{name:"download"})})]}),Object(P.jsx)(_.n,{title:(null===n||void 0===n?void 0:n.caption)||"",className:"AudioBox__caption",size:8,weight:400,children:(null===n||void 0===n?void 0:n.caption)||""})]})})}I.displayName="AudioBox";var k=o.a.memo(I);function A(e){var t=0,n=0;return e.forEach((function(e){t<e.height&&(t=e.height,n=e.width)})),{maxHeight:t,maxWidth:n}}var E=n(523),z=n(589),D=n(623),H=n(19);n(688);function M(e){var t=e.imageRendering,n=e.imageData,a=e.tooltipContent,i=e.handleClose,o=e.selectOptions,c=S.a.getState()[null===n||void 0===n?void 0:n.blob_uri];return Object(P.jsx)(y.a,{children:Object(P.jsxs)("div",{className:"ImageFullViewPopover",children:[Object(P.jsx)("div",{className:"ImageFullViewPopover__imageContainer ImageFullViewPopover__imageContainer--".concat(t),children:Object(P.jsx)("div",{className:"ImageFullViewPopover__imageContainer__imageBox",children:Object(P.jsx)("img",{src:"data:image/".concat(n.format,";base64, ").concat(c),style:{maxWidth:n.width,maxHeight:n.height},alt:n.caption})})}),Object(P.jsxs)("div",{className:"ImageFullViewPopover__detailContainer",children:[Object(P.jsx)("div",{className:"ImageFullViewPopover__detailContainer__closeButtonContainer",children:Object(P.jsx)(_.c,{withOnlyIcon:!0,size:"small",onClick:i,color:"inherit",children:Object(P.jsx)(_.f,{name:"close"})})}),Object(P.jsx)("div",{className:"ImageFullViewPopover__detailContainer__content",children:Object(P.jsx)(y.a,{children:Object(P.jsx)(D.a,{chartType:H.b.ImageSet,tooltipContent:a,focusedState:{active:!0,key:null},selectOptions:o})})})]})]})})}M.displayName="ImageFullViewPopover";var R,L=o.a.memo(M),V=n(282),B=n(17),W=n(13),G=function(e){var t,n,i=e.index,c=e.style,r=e.data,l=e.addUriToList,s=e.mediaItemHeight,u=e.focusedState,h=e.tooltip,v=e.additionalProperties,p=e.selectOptions,m=r.format,f=r.blob_uri,b=o.a.useState(!1),O=Object(a.a)(b,2),g=O[0],x=O[1],w=o.a.useState(null!==(t=S.a.getState()[f])&&void 0!==t?t:null),T=Object(a.a)(w,2),N=T[0],I=T[1];o.a.useEffect((function(){var e,t;return null===N&&(S.a.getState()[f]?I(S.a.getState()[f]):(t=S.a.subscribe(f,(function(e){I(e[f]),t.unsubscribe()})),e=window.setTimeout((function(){S.a.getState()[f]?(I(S.a.getState()[f]),t.unsubscribe()):l(f)}),C.a))),function(){e&&clearTimeout(e),t&&t.unsubscribe()}}),[l,N,f]);var k={width:c.width-6,height:v.alignmentType!==V.b.Height?c.width/(r.width/r.height)-6:s-40,containerWidth:c.width-4,containerHeight:v.alignmentType!==V.b.Height?c.width/(r.width/r.height)-4:s-40};return Object(P.jsx)(y.a,{children:Object(P.jsxs)("div",{className:"ImageBox",style:c,children:[Object(P.jsx)("div",{className:j()("ImageBox__image",(n={},Object(d.a)(n,"ImageBox__image--".concat(v.imageRendering),!!v.imageRendering),Object(d.a)(n,"focus",u.key===r.key&&(null===u||void 0===u?void 0:u.active)),Object(d.a)(n,"active",u.key===r.key&&!(null===u||void 0===u?void 0:u.active)),n)),"data-key":"".concat(r.key),"data-seqkey":"".concat(r.seqKey),"data-mediasetitem":"mediaSetItem",children:Object(P.jsxs)("div",{className:"ImageBox__imageWrapper",children:[Object(P.jsxs)("div",{className:"ImageBox__imageWrapper-item ".concat(v.alignmentType===V.b.Height?"ImageBox__imageWrapper-item-heightAlign":""),children:[N?Object(P.jsx)("img",{src:"data:image/".concat(m,";base64, ").concat(N),alt:r.caption}):Object(P.jsx)("div",{style:{height:k.containerHeight,width:k.containerWidth},className:"skeletonContainer",children:Object(P.jsx)(E.a,{variant:"rect",height:k.height,width:k.width})}),Object(P.jsx)(_.n,{style:{maxWidth:c.width},size:10,weight:400,children:r.caption})]}),Object(P.jsx)(_.c,{withOnlyIcon:!0,size:"small",className:j()("ImageBox__imageWrapper__zoomIconWrapper",{isHidden:u.key!==r.key}),onClick:function(e){e.stopPropagation(),x(!0),W.b(B.a.images.imagesPanel.openFullSizeMode)},color:"inherit",children:Object(P.jsx)(_.f,{name:"zoom-in",fontSize:14})})]})}),Object(P.jsx)(y.a,{children:Object(P.jsx)(z.a,{onClose:function(){return x(!1)},"aria-labelledby":"customized-dialog-title",className:"MediaPanel__Container__imageFullViewPopup",open:g,children:Object(P.jsx)(L,{imageRendering:null===v||void 0===v?void 0:v.imageRendering,tooltipContent:(null===h||void 0===h?void 0:h.content)||{context:r.context,step:r.step,index:r.index,caption:r.caption,images_name:r.name},selectOptions:p,imageData:r,handleClose:function(){return x(!1)}})})})]})},i)},F=(R={},Object(d.a)(R,m.a.IMAGE,G),Object(d.a)(R,m.a.AUDIO,k),R);var U=function(e){var t=e.data,n=e.wrapperOffsetWidth,a=e.addUriToList,i=e.mediaItemHeight,c=e.focusedState,r=e.additionalProperties,l=e.tooltip,s=e.mediaType,d=e.wrapperOffsetHeight,u=e.selectOptions,v=o.a.useCallback((function(e){return s===m.a.AUDIO?C.f[s]().width:C.f[s]({data:t,index:e,additionalProperties:r,wrapperOffsetWidth:n,wrapperOffsetHeight:d}).width}),[r,t,s,d,n]),j=o.a.useMemo((function(){var e=A(t),a=e.maxWidth,o=e.maxHeight,c=r.alignmentType,l=r.mediaItemSize;return s===m.a.IMAGE?C.g[s]({alignmentType:c,maxHeight:o,maxWidth:a,wrapperOffsetWidth:n,mediaItemSize:l,mediaItemHeight:i}):C.g[s](i)}),[r,t,i,s,n]);return Object(P.jsx)(y.a,{children:Object(P.jsx)(h.c,{height:j,itemCount:t.length,itemSize:v,layout:"horizontal",width:n,style:{overflowY:"hidden"},itemData:{data:t,addUriToList:a,mediaItemHeight:j,focusedState:c,additionalProperties:r,tooltip:l,mediaType:s,selectOptions:u},children:K})})},K=o.a.memo((function(e){var t=e.index,n=e.style,a=e.data,i=F[a.mediaType];return Object(P.jsx)(y.a,{children:Object(P.jsx)(i,{index:t,style:n,data:a.data[t],addUriToList:a.addUriToList,mediaItemHeight:a.mediaItemHeight,focusedState:a.focusedState,additionalProperties:a.additionalProperties,tooltip:a.tooltip,selectOptions:a.selectOptions},t)})}),h.d),q=U,Y=n(98),J=n(597),X=n(599);n(689);function Q(e){var t=e.index,n=e.pathValue,a=e.depth,i=e.onDepthChange,c=o.a.useMemo((function(){return n.map((function(e,t){return{depth:t,label:e}}))}),[n]);return Object(P.jsx)(y.a,{children:Object(P.jsx)(Y.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},className:"DepthDropdown",anchor:function(e){var t=e.onAnchorClick,n=e.opened;return Object(P.jsx)(_.c,{onClick:t,className:"DepthDropdown__button",color:n?"primary":"default",size:"small",withOnlyIcon:!0,style:{height:C.j},children:Object(P.jsx)(_.f,{name:n?"arrow-up":"arrow-down"})})},component:Object(P.jsx)(J.a,{open:!0,size:"small",openOnFocus:!0,disablePortal:!0,disableCloseOnSelect:!0,className:"DepthDropdown__autocomplete",options:c,getOptionLabel:function(e){return e.label},getOptionSelected:function(e){return e.depth===a},onChange:function(e,n){null===i||void 0===i||i(n.depth,t)},disableClearable:!0,ListboxProps:{style:{maxHeight:200,maxWidth:241}},classes:{popper:"DepthDropdown__autocomplete__popper"},renderInput:function(e){return Object(P.jsx)(X.a,{ref:e.InputProps.ref,inputProps:e.inputProps,spellCheck:!1,placeholder:"Search",autoFocus:!0,className:"DepthDropdown__autocomplete__select"})},renderOption:function(e){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(_.n,{className:j()("DepthDropdown__autocomplete__select__optionLabel",{selected:a===e.depth}),weight:500,size:12,children:e.label}),a===e.depth&&Object(P.jsx)(_.f,{fontSize:14,color:"primary",name:"check",className:"DepthDropdown__autocomplete__select__optionIcon"})]})}})})})}Q.displayName="DepthDropdown";var Z=o.a.memo(Q);n(690);function $(e){var t=e.index,n=e.pathValue,a=e.depth,i=e.onDepthChange,c=o.a.useMemo((function(){return n.map((function(e,t){return{value:t}}))}),[n]);return Object(P.jsx)(y.a,{children:Object(P.jsx)("div",{className:"DepthSlider",style:{height:C.i},children:Object(P.jsx)(_.k,{"aria-labelledby":"track-false-slider",track:!1,valueLabelDisplay:"off",getAriaValueText:function(e){return"".concat(n[e])},value:a,onChange:function(e,n){return null===i||void 0===i?void 0:i(n,t)},step:null,marks:c,min:0,max:n.length-1,prevIconNode:Object(P.jsx)(_.c,{onClick:function(){a>0&&(null===i||void 0===i||i(a-1,t))},className:"prevIconBtn",disabled:a<=0,size:"small",withOnlyIcon:!0,children:Object(P.jsx)(_.f,{name:"arrow-left",fontSize:10})}),nextIconNode:Object(P.jsx)(_.c,{onClick:function(){a<n.length-1&&(null===i||void 0===i||i(a+1,t))},className:"nextIconBtn",disabled:a>=n.length-1,size:"small",withOnlyIcon:!0,children:Object(P.jsx)(_.f,{name:"arrow-right",fontSize:10})})})})})}$.displayName="DepthSlider";var ee=o.a.memo($),te=n(33);n(691);var ne=function(e){var t=e.data,n=e.onListScroll,i=e.addUriToList,c=e.index,r=void 0===c?0:c,l=e.mediaSetKey,v=e.wrapperOffsetHeight,j=e.wrapperOffsetWidth,p=e.orderedMap,f=e.focusedState,b=e.additionalProperties,O=e.tableHeight,g=e.tooltip,x=e.mediaType,_=e.sortFieldsDict,S=e.sortFields,w=e.selectOptions,T=o.a.useState([]),N=Object(a.a)(T,2),I=N[0],k=N[1],E=[],z={};function D(e,t){for(var n=0;n<e.length;n++)t[n]||(t[n]=[]),t[n].push(e[n])}function H(e,t){var n=Object(a.a)(E[E.length-1],2),i=n[0],o=n[1],c=t[t.length-1].split(" = "),r=Object(a.a)(c,2),l=r[0],s=r[1];if(t.length===i.length)i[i.length-1][l].push(s),D(e,o);else{var u=[];D(e,u),t[t.length-1]=Object(d.a)({},l,[s]),E.push([t,u])}}function M(e){var t=[],n=[];return null===S||void 0===S||S.forEach((function(e){t.push(e.value),n.push(e.order)})),u.a.orderBy(e,t,n)}!function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],a=arguments.length>2?arguments[2]:void 0;if(Array.isArray(t)){var i=M(t);b.stacking&&E.length?H(i,n):E.push([n,i])}else{var o,c=u.a.orderBy(Object(s.a)((null===a||void 0===a?void 0:a.ordering)||[]).reduce((function(e,t){return e.push(Object(d.a)({},a.key,t)),e}),[]),[(null===a||void 0===a?void 0:a.key)||""],[(null===_||void 0===_||null===(o=_[null===a||void 0===a?void 0:a.orderKey])||void 0===o?void 0:o.order)||"asc"]).map((function(e){return e[null===a||void 0===a?void 0:a.key]}));c.forEach((function(i){var o="".concat(a.key," = ").concat(Object(te.a)(i));z.hasOwnProperty(n.join(""))||(E.push([n,[]]),z[n.join("")]=1),e(t[o],n.concat([o]),a[o])}))}}(t,[""],p);var R=o.a.useCallback((function(e,t){if(e!==I[t]){var n=Object(s.a)(I);n[t]=e,k(n)}}),[I,k]),L=o.a.useMemo((function(){var e,n;return x===m.a.AUDIO?null===(e=C.f[x]())||void 0===e?void 0:e.height:null===(n=C.f[x]({data:t,additionalProperties:b,wrapperOffsetWidth:j,wrapperOffsetHeight:v}))||void 0===n?void 0:n.height}),[b,t,x,v,j]);return o.a.useEffect((function(){b.stacking&&E.length&&k(Array(E.length).fill(0))}),[b.stacking,t,E.length]),Object(P.jsx)(y.a,{children:Object(P.jsx)(h.c,{height:v||0,itemCount:E.length,itemSize:function(e){var t=Object(a.a)(E[e],2),n=t[0],i=t[1],o=A(i.flat()),c=o.maxHeight,r=o.maxWidth,l=b.mediaItemSize,s=b.alignmentType,d=b.stacking,u=n[n.length-1],h=d&&"object"===typeof u,v=ce({isStackedPath:h,lastPath:u}).pathValue;if(1===n.length)return 0;if(i.length>0){if(x===m.a.IMAGE)return C.h[x]({maxHeight:c,maxWidth:r,mediaItemHeight:L,alignmentType:s,wrapperOffsetWidth:j,mediaItemSize:l,stacking:h&&v.length>1});if(x===m.a.AUDIO)return C.h[x]()}return C.j+C.k},width:"100%",onScroll:n,itemData:{data:E,addUriToList:i,wrapperOffsetWidth:j,wrapperOffsetHeight:v,index:r,mediaSetKey:l,mediaItemHeight:L,focusedState:f,additionalProperties:b,tooltip:g,mediaType:x,depthMap:I,onDepthChange:R,selectOptions:w},children:oe},E.length+O+l)})};function ae(e,t){return e.mediaSetKey===t.mediaSetKey&&e.focusedState===t.focusedState&&e.sortFieldsDict===t.sortFieldsDict}var ie=o.a.memo(ne,ae),oe=o.a.memo((function(e){var t=e.index,n=e.style,i=e.data,o=Object(a.a)(i.data[t],2),c=o[0],s=o[1],d=c[c.length-1],u=i.depthMap[t]||0,h=i.additionalProperties.stacking&&"object"===typeof d,v=ce({isStackedPath:h,lastPath:d}),m=v.pathKey,f=v.pathValue,b=function(e){var t=e.isStackedPath,n=e.pathValue,a=e.depth,i=e.items,o="",c=[];if(t){var l;o=null===(l=n[a])||void 0===l?void 0:l.trim();var s,d=Object(r.a)(i);try{for(d.s();!(s=d.n()).done;){var u=s.value;u[a]&&c.push(u[a])}}catch(h){d.e(h)}finally{d.f()}}else o=null===n||void 0===n?void 0:n.trim(),c=i;return{currentValue:o,currentItems:c}}({isStackedPath:h,pathValue:f,depth:u,items:s}),O=b.currentValue,g=b.currentItems,x=function(e){try{JSON.parse(e)}catch(t){return!1}return JSON.parse(e)}(O),S="object"===typeof x,w=g.length>0&&h&&f.length>1;return Object(P.jsx)(y.a,{children:Object(P.jsxs)("div",{className:"MediaSet",style:Object(l.a)({paddingLeft:"calc(0.625rem * ".concat(c.length-2,")")},n),children:[c.slice(2).map((function(e,t){return Object(P.jsx)(y.a,{children:Object(P.jsx)("div",{className:"MediaSet__connectorLine",style:{left:"calc(0.625rem * ".concat(t,")")}})},e)})),Object(P.jsxs)("div",{className:"MediaSet__container ".concat(c.length>2?"withDash":""),children:[c.length>1&&Object(P.jsx)(y.a,{children:Object(P.jsx)(Y.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},anchor:function(e){var n=e.onAnchorClick;return Object(P.jsxs)("span",{className:"MediaSet__container__path",children:[Object(P.jsx)(p.a,{placement:"top-start",title:"".concat(m," = ").concat(O),children:Object(P.jsxs)("span",{className:"MediaSet__container__path__title",style:{height:C.j,width:w?"":"100%"},children:[Object(P.jsx)("span",{className:j()("MediaSet__container__path__title__key",{stacked:w}),children:m}),"=",Object(P.jsx)("span",{onClick:S?n:void 0,className:j()("MediaSet__container__path__title__value",{stacked:w,MediaSet__container__path__title__pointer:S}),children:O})]})}),w&&Object(P.jsx)(Z,{index:t,pathValue:f,depth:u,onDepthChange:i.onDepthChange})]})},component:Object(P.jsx)(_.h,{json:x})})}),w&&Object(P.jsx)(ee,{index:t,pathValue:f,depth:u,onDepthChange:i.onDepthChange}),g.length>0&&Object(P.jsx)("div",{className:"MediaSet__container__mediaItemsList",children:Object(P.jsx)(q,{data:g,addUriToList:i.addUriToList,wrapperOffsetWidth:i.wrapperOffsetWidth,wrapperOffsetHeight:i.wrapperOffsetHeight,mediaItemHeight:i.mediaItemHeight,focusedState:i.focusedState,additionalProperties:i.additionalProperties,tooltip:i.tooltip,mediaType:i.mediaType,selectOptions:i.selectOptions},"".concat(t,"-").concat(u))})]})]})})}),h.d);function ce(e){var t=e.isStackedPath,n=e.lastPath,i="",o="";if(t)o=n[i=Object.keys(n)[0]];else{var c=null===n||void 0===n?void 0:n.split(" = "),r=Object(a.a)(c,2),l=r[0];i=void 0===l?"":l;var s=r[1];o=void 0===s?"":s}return{pathKey:i,pathValue:o}}var re=n(233);n(692);var le=function(e){var t=e.controlsCount,n=void 0===t?3:t;return Object(P.jsx)(y.a,{children:Object(P.jsxs)("div",{className:"ChartLoader",children:[Object(P.jsx)("div",{className:"ChartLoader__chart",children:Object(P.jsx)("span",{children:"Loading..."})}),n?Object(P.jsx)("div",{className:"ChartLoader__controls",children:Object(s.a)(Array(n)).map((function(e,t){return Object(P.jsx)(E.a,{variant:"rect",style:{minHeight:35,height:35,width:35,minWidth:35},animation:"wave"},t)}))}):null]})})},se=n(637),de=n(43),ue=n(301),he=n(59),ve=n(172);n(693);function je(e){var t=e.data,n=e.isLoading,i=e.panelResizing,r=e.wrapperOffsetHeight,l=e.wrapperOffsetWidth,s=e.orderedMap,d=e.resizeMode,u=e.tooltip,h=e.focusedState,v=e.additionalProperties,j=e.tableHeight,p=e.mediaType,m=e.controls,f=e.actionPanel,b=e.actionPanelSize,O=e.tooltipType,g=e.onActivePointChange,x=e.getBlobsData,w=e.sortFieldsDict,T=e.sortFields,N=e.illustrationConfig,I=e.selectOptions,k=void 0===I?[]:I,A=o.a.useState(null),E=Object(a.a)(A,2),z=E[0],D=E[1],H=o.a.useRef([]),M=o.a.useRef(0),R=o.a.useRef(null),L=o.a.useRef(null),V=o.a.useRef(),B=o.a.useRef(0),W=o.a.useRef(0),G=o.a.useCallback((function(){if(L.current&&R.current){var e=L.current.pointRect;D({bottom:e.bottom,right:e.right,top:e.top,left:e.left})}else D(null)}),[D]),F=o.a.useCallback((function(e){var t=e.activePoint,n=e.focusedStateActive,a=void 0!==n&&n;L.current=t,null!==t?(g&&g(t,a),G()):(D(null),g&&g({key:null},a))}),[g,D,G]),U=o.a.useCallback((function(){((null===h||void 0===h?void 0:h.key)||z)&&(W.current&&window.cancelAnimationFrame(W.current),F({activePoint:null}))}),[null===h||void 0===h?void 0:h.key,z,F]),K=o.a.useCallback((function(e){e&&(e.stopPropagation(),e.target&&(W.current=window.requestAnimationFrame((function(){var t=e.target.closest('[data-mediasetitem="mediaSetItem"]');if(t){var n=t.getAttribute("data-key"),a=t.getAttribute("data-seqkey"),i=t.getBoundingClientRect();!i||h.key===n&&null!==z||(null===h||void 0===h?void 0:h.active)||F({activePoint:{pointRect:i,key:n,seqKey:a}})}else U()}))))}),[null===h||void 0===h?void 0:h.key,null===h||void 0===h?void 0:h.active,z,F,U]),q=o.a.useMemo((function(){return Date.now()}),[t,r,l,v,w]);var Y=Object(de.m)((function(){M.current&&window.clearTimeout(M.current),M.current=window.setTimeout((function(){Object(c.a)(H.current)||(V.current=x(H.current),V.current.call().then((function(){H.current=[]})))}),C.b)}),C.b);return o.a.useEffect((function(){return document.addEventListener("mouseover",U),function(){document.removeEventListener("mouseover",U)}}),[U]),o.a.useEffect((function(){return function(){M.current&&window.clearTimeout(M.current),V.current&&V.current.abort(),S.a.init()}}),[]),Object(P.jsx)(y.a,{children:Object(P.jsx)(re.a,{isLoading:n,className:"MediaPanel__loader",height:"100%",loaderComponent:Object(P.jsx)(le,{controlsCount:4}),children:i?Object(P.jsx)("div",{className:"MediaPanel__Container__resizing",children:Object(P.jsx)(_.n,{size:14,color:"info",children:"Release to resize"})}):Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)("div",{className:"MediaPanel__Container",children:[Object(c.a)(t)?Object(P.jsx)(ue.a,{page:(null===N||void 0===N?void 0:N.page)||"runs",type:(null===N||void 0===N?void 0:N.type)||ve.c.EmptyData,size:(null===N||void 0===N?void 0:N.size)||"xLarge",title:(null===N||void 0===N?void 0:N.title)||""}):Object(P.jsxs)("div",{className:"MediaPanel",style:{height:"calc(100% - ".concat(b||0,")")},children:[Object(P.jsx)("div",{ref:R,className:"MediaPanel__mediaSetContainer",onMouseOver:K,children:Object(P.jsx)(y.a,{children:Object(P.jsx)(ie,{data:t,onListScroll:function(e){var t=e.scrollOffset;Math.abs(t-B.current)>window.innerHeight&&V.current&&V.current.abort(),B.current=t,U()},addUriToList:function(e){S.a.getState()[e]||(H.current.push(e),Y())},mediaSetKey:q,sortFieldsDict:w,wrapperOffsetHeight:r,wrapperOffsetWidth:l,focusedState:h,orderedMap:s,additionalProperties:v,tableHeight:j,tooltip:u,mediaType:p,sortFields:T,selectOptions:k})})}),O&&Object(P.jsx)(y.a,{children:Object(P.jsx)(se.a,{containerNode:R.current,activePointRect:z,open:d!==he.b.MaxHeight&&!i&&((null===u||void 0===u?void 0:u.display)||(null===h||void 0===h?void 0:h.active)),chartType:O,tooltipContent:(null===u||void 0===u?void 0:u.content)||{},focusedState:h,selectOptions:k})}),m&&Object(P.jsx)(y.a,{children:Object(P.jsx)("div",{className:"MediaPanel__controls ScrollBar__hidden",children:m})})]}),f]})})})})}var pe=o.a.memo(je);t.a=pe},733:function(e,t,n){"use strict";var a=n(47),i={GET_IMAGES:"runs/search/images",GET_IMAGES_BY_URIS:"runs/images/get-batch"};var o={endpoints:i,getImagesExploreData:function(e){return a.a.getStream(i.GET_IMAGES,e)},getImagesByURIs:function(e){return a.a.getStream(i.GET_IMAGES_BY_URIS,e,{method:"POST"})}};t.a=o}}]);
//# sourceMappingURL=ImagesVisualizer.js.map?version=89ee4e191819187602a4