Metadata-Version: 2.1
Name: python-dos-like
Version: 0.0.1
Summary: Python bindings for the dos-like programming library
Home-page: https://github.com/cknave/python-dos-like
Author: kvance
Author-email: kvance@kvance.com
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Natural Language :: English
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Topic :: Software Development :: Libraries
License-File: LICENSE
Requires-Dist: aenum (<4,>=3.1.11)
Requires-Dist: cffi (<2,>=1.15.1)
Requires-Dist: typing-extensions (>=4.3.0) ; python_version < "3.10"
Provides-Extra: dev
Requires-Dist: build (<1,>=0.8.0) ; extra == 'dev'
Requires-Dist: coverage (==6.4.3) ; extra == 'dev'
Requires-Dist: flake8 (==5.0.4) ; extra == 'dev'
Requires-Dist: flake8-comprehensions (==3.10.0) ; extra == 'dev'
Requires-Dist: flake8-import-order (==0.18.1) ; extra == 'dev'
Requires-Dist: flake8-quotes (==3.3.1) ; extra == 'dev'
Requires-Dist: twine (<5,==4.0.1) ; extra == 'dev'
Requires-Dist: yapf (==0.32.0) ; extra == 'dev'

Python bindings for dos-like
============================
python-dos-like is a set of Python bindings for the dos-like_ programming library by Mattias
Gustavsson.

.. _dos-like: https://mattiasgustavsson.itch.io/dos-like


Usage
-----
python-dos-like can be used in the same way as dos-like by calling ``dos_like.start`` on your
main function:

.. code-block:: python

  from random import randrange

  import dos_like
  from dos_like.dos import *


  def main():
      setvideomode(videomode_320x200)

      while not shuttingdown():
          waitvbl()
          for _ in range(50):
              setcolor(randrange(256))
              line(randrange(320), randrange(200), randrange(320), randrange(200))
              setcolor(randrange(256))
              fillcircle(randrange(320), randrange(200), randrange(30))
              setcolor(randrange(256))
              circle(randrange(320), randrange(200), randrange(30))

  dos_like.start(main)

You can also use python-dos-like in the Python REPL by calling ``dos_like.run_in_background``:

.. code-block:: python

  >>> import dos_like
  >>> from dos_like.dos import *
  >>> dos_like.run_in_background(['-w'])
  >>> cputs('hello world!')

.. note::

  Why the ``['-w']``?  This passes the ``-w`` flag through to dos-like, which tells it to
  run in windowed mode.  Without it, dos-like starts in full screen and you have to press
  F11 to enter windowed mode.

.. warning::

  The current version of dos-like does not update the screen while its window is out of focus.
  Since this is inconvenient for experimentation, you can build your own version of dos-like
  where you modify the `app_has_focus function`_ to always return true.

.. _app_has_focus function: https://github.com/mattiasgustavsson/dos-like/blob/e0e279f2d8b117e128fe9c20b19edb3fbc6f8375/source/dos.h#L3652-L3654


Building
--------

Building python-dos-like requires C development tools to be installed.

On Linux and macOS, the SDL2_ and GLEW_ libraries are required.

If building from a git repository, you must update submodules to get the dos-like source.

.. code-block:: bash

  $ git submodule update --init --recursive

.. code-block:: bash

  $ python -mvenv .venv
  $ . .venv/bin/activate
  (.venv) $ pip install -e '.[dev]'
  (.venv) $ coverage run -m unittest && coverage report

.. _SDL2: https://www.libsdl.org/download-2.0.php
.. _GLEW: http://glew.sourceforge.net/


Limitations
-----------

This library has been tested on Linux and Windows.  It builds on macOS, however running in
the background raises an AppKit assertion.  Building on WebAssembly should be a real challenge.

The lifecycle of graphics, music, and sound loaded from dos-like is not managed, and is
likely leaking memory.
